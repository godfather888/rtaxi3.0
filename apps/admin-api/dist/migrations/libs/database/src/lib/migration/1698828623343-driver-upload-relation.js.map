{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1698828623343-driver-upload-relation.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\n\nexport class DriverUploadRelation1698828623343 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        'ALTER TABLE `media` ADD `uploadedByDriverId` int NULL;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `media` ADD FOREIGN KEY (`uploadedByDriverId`) REFERENCES `driver`(`id`) ON DELETE SET NULL ON UPDATE NO ACTION;',\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        'ALTER TABLE `media` DROP FOREIGN KEY `FK_5c4b6f0b4e0d9b8c7d5e6a1d9a9`;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `media` DROP COLUMN `uploadedByDriverId`;',\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n"],"names":["DriverUploadRelation1698828623343","up","queryRunner","query","error","console","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAA,AAAMA,oCAAN,MAAMA;IACX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;IACF;IAEA,MAAaE,KAAKJ,WAAwB,EAAiB;QACzD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;IACF;AACF"}