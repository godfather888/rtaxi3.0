{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1670742105412-zone-price.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\n\nexport class zonePrice1670742105412 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        \"CREATE TABLE `zone_price` (`id` int NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255) NOT NULL, `cost` float(10,2) NOT NULL DEFAULT '0.00', `timeMultipliers` text, `from` polygon NOT NULL, `to` polygon NOT NULL);\",\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.query(\n        'CREATE TABLE `zone_price_fleets_fleet` (`zonePriceId` int NOT NULL,`fleetId` int NOT NULL, PRIMARY KEY (`zonePriceId`,`fleetId`), FOREIGN KEY (`fleetId`) REFERENCES `fleet` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION, FOREIGN KEY (`zonePriceId`) REFERENCES `zone_price` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION);',\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.query(\n        'CREATE TABLE `zone_price_services_service` (`zonePriceId` int NOT NULL, `serviceId` int NOT NULL, PRIMARY KEY (`zonePriceId`,`serviceId`), FOREIGN KEY (`serviceId`) REFERENCES `service` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION, FOREIGN KEY (`zonePriceId`) REFERENCES `zone_price` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION);',\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {}\n}\n"],"names":["zonePrice1670742105412","up","queryRunner","query","error","console","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAA,AAAMA,yBAAN,MAAMA;IACX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMF,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMF,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;IACF;IAEA,MAAaE,KAAKJ,WAAwB,EAAiB,CAAC;AAC9D"}