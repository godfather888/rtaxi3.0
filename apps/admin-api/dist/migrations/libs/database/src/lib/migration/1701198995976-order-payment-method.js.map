{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1701198995976-order-payment-method.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\n\nexport class OrderPaymentMethod1701198995976 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        'ALTER TABLE `request` ADD `paymentMode` enum (\"cash\", \"savedPaymentMethod\", \"paymentGateway\", \"wallet\") NULL;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `request` ADD `savedPaymentMethodId` int NULL;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `request` ADD CONSTRAINT FOREIGN KEY (`savedPaymentMethodId`) REFERENCES `saved_payment_method`(`id`) ON DELETE SET NULL ON UPDATE NO ACTION;',\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        'ALTER TABLE `request` DROP COLUMN `paymentMode`;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `request` DROP FOREIGN KEY `FK_5f9f6e2c5b4d6f6f3e7d7a7e9e4`;',\n      );\n      await queryRunner.query(\n        'ALTER TABLE `request` DROP COLUMN `savedPaymentMethodId`;',\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n"],"names":["OrderPaymentMethod1701198995976","up","queryRunner","query","error","console","log","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAA,AAAMA,kCAAN,MAAMA;IACX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQC,GAAG,CAACF;QACd;IACF;IAEA,MAAaG,KAAKL,WAAwB,EAAiB;QACzD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;YAEF,MAAMD,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQC,GAAG,CAACF;QACd;IACF;AACF"}