{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1702630883360-park-spot-review.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner, Table } from 'typeorm';\n\nexport class parkingFeedback1702630883360 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.createTable(\n        new Table({\n          name: 'parking_feedback_parameter',\n          columns: [\n            {\n              name: 'id',\n              type: 'int',\n              isPrimary: true,\n              isGenerated: true,\n            },\n            {\n              name: 'name',\n              type: 'varchar',\n            },\n            {\n              name: 'isGood',\n              type: 'boolean',\n            },\n            {\n              name: 'createdAt',\n              type: 'timestamp',\n              default: 'CURRENT_TIMESTAMP',\n            },\n            {\n              name: 'updatedAt',\n              type: 'timestamp',\n              default: 'CURRENT_TIMESTAMP',\n            },\n            {\n              name: 'deletedAt',\n              type: 'timestamp',\n              isNullable: true,\n            },\n          ],\n        }),\n        true,\n        true,\n        true,\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.createTable(\n        new Table({\n          name: 'parking_feedback',\n          columns: [\n            {\n              name: 'id',\n              type: 'int',\n              isPrimary: true,\n              isGenerated: true,\n            },\n            {\n              name: 'score',\n              type: 'float',\n            },\n            {\n              name: 'comment',\n              type: 'varchar',\n            },\n            {\n              name: 'parkSpotId',\n              type: 'int',\n            },\n            {\n              name: 'orderId',\n              type: 'int',\n            },\n            {\n              name: 'createdAt',\n              type: 'timestamp',\n              default: 'CURRENT_TIMESTAMP',\n            },\n            {\n              name: 'updatedAt',\n              type: 'timestamp',\n              default: 'CURRENT_TIMESTAMP',\n            },\n            {\n              name: 'deletedAt',\n              type: 'timestamp',\n              isNullable: true,\n            },\n          ],\n          foreignKeys: [\n            {\n              name: 'parkingFeedback_parkSpotId',\n              columnNames: ['parkSpotId'],\n              referencedTableName: 'park_spot',\n              referencedColumnNames: ['id'],\n              onDelete: 'CASCADE',\n            },\n            {\n              name: 'parkingFeedback_orderId',\n              columnNames: ['orderId'],\n              referencedTableName: 'park_order',\n              referencedColumnNames: ['id'],\n              onDelete: 'CASCADE',\n            },\n          ],\n          indices: [\n            {\n              name: 'parkingFeedback_parkSpotId',\n              columnNames: ['parkSpotId'],\n            },\n            {\n              name: 'parkingFeedback_orderId',\n              columnNames: ['orderId'],\n            },\n          ],\n        }),\n        true,\n        true,\n        true,\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.createTable(\n        new Table({\n          name: 'parkingFeedback_parameters_parkingFeedback_parameter',\n          columns: [\n            {\n              name: 'parkingFeedbackId',\n              type: 'int',\n            },\n            {\n              name: 'parkingFeedbackParameterId',\n              type: 'int',\n            },\n          ],\n          foreignKeys: [\n            {\n              name: 'parkingFeedbackParameters_parkingFeedbackId',\n              columnNames: ['parkingFeedbackId'],\n              referencedTableName: 'park_spot_review',\n              referencedColumnNames: ['id'],\n              onDelete: 'CASCADE',\n            },\n            {\n              name: 'parkingFeedbackParameters_parkingFeedbackParameterId',\n              columnNames: ['parkingFeedbackParameterId'],\n              referencedTableName: 'park_spot_review_parameter',\n              referencedColumnNames: ['id'],\n              onDelete: 'CASCADE',\n            },\n          ],\n          indices: [\n            {\n              name: 'parkingFeedbackParameters_parkingFeedbackId',\n              columnNames: ['parkingFeedbackId'],\n            },\n            {\n              name: 'parkingFeedbackParameters_parkingFeedbackParameterId',\n              columnNames: ['parkingFeedbackParameterId'],\n            },\n          ],\n        }),\n        true,\n        true,\n        true,\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n   \n  public async down(queryRunner: QueryRunner): Promise<void> {}\n}\n"],"names":["parkingFeedback1702630883360","up","queryRunner","createTable","Table","name","columns","type","isPrimary","isGenerated","default","isNullable","error","console","foreignKeys","columnNames","referencedTableName","referencedColumnNames","onDelete","indices","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;yBAF0C;AAEhD,IAAA,AAAMA,+BAAN,MAAMA;IACX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,WAAW,CAC3B,IAAIC,cAAK,CAAC;gBACRC,MAAM;gBACNC,SAAS;oBACP;wBACED,MAAM;wBACNE,MAAM;wBACNC,WAAW;wBACXC,aAAa;oBACf;oBACA;wBACEJ,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;wBACNG,SAAS;oBACX;oBACA;wBACEL,MAAM;wBACNE,MAAM;wBACNG,SAAS;oBACX;oBACA;wBACEL,MAAM;wBACNE,MAAM;wBACNI,YAAY;oBACd;iBACD;YACH,IACA,MACA,MACA;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMV,YAAYC,WAAW,CAC3B,IAAIC,cAAK,CAAC;gBACRC,MAAM;gBACNC,SAAS;oBACP;wBACED,MAAM;wBACNE,MAAM;wBACNC,WAAW;wBACXC,aAAa;oBACf;oBACA;wBACEJ,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;wBACNG,SAAS;oBACX;oBACA;wBACEL,MAAM;wBACNE,MAAM;wBACNG,SAAS;oBACX;oBACA;wBACEL,MAAM;wBACNE,MAAM;wBACNI,YAAY;oBACd;iBACD;gBACDG,aAAa;oBACX;wBACET,MAAM;wBACNU,aAAa;4BAAC;yBAAa;wBAC3BC,qBAAqB;wBACrBC,uBAAuB;4BAAC;yBAAK;wBAC7BC,UAAU;oBACZ;oBACA;wBACEb,MAAM;wBACNU,aAAa;4BAAC;yBAAU;wBACxBC,qBAAqB;wBACrBC,uBAAuB;4BAAC;yBAAK;wBAC7BC,UAAU;oBACZ;iBACD;gBACDC,SAAS;oBACP;wBACEd,MAAM;wBACNU,aAAa;4BAAC;yBAAa;oBAC7B;oBACA;wBACEV,MAAM;wBACNU,aAAa;4BAAC;yBAAU;oBAC1B;iBACD;YACH,IACA,MACA,MACA;QAEJ,EAAE,OAAOH,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMV,YAAYC,WAAW,CAC3B,IAAIC,cAAK,CAAC;gBACRC,MAAM;gBACNC,SAAS;oBACP;wBACED,MAAM;wBACNE,MAAM;oBACR;oBACA;wBACEF,MAAM;wBACNE,MAAM;oBACR;iBACD;gBACDO,aAAa;oBACX;wBACET,MAAM;wBACNU,aAAa;4BAAC;yBAAoB;wBAClCC,qBAAqB;wBACrBC,uBAAuB;4BAAC;yBAAK;wBAC7BC,UAAU;oBACZ;oBACA;wBACEb,MAAM;wBACNU,aAAa;4BAAC;yBAA6B;wBAC3CC,qBAAqB;wBACrBC,uBAAuB;4BAAC;yBAAK;wBAC7BC,UAAU;oBACZ;iBACD;gBACDC,SAAS;oBACP;wBACEd,MAAM;wBACNU,aAAa;4BAAC;yBAAoB;oBACpC;oBACA;wBACEV,MAAM;wBACNU,aAAa;4BAAC;yBAA6B;oBAC7C;iBACD;YACH,IACA,MACA,MACA;QAEJ,EAAE,OAAOH,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;IACF;IAGA,MAAaQ,KAAKlB,WAAwB,EAAiB,CAAC;AAC9D"}