{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1705734153794-gift-cards-permissions.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner, TableColumn } from 'typeorm';\n\nexport enum OperatorPermission {\n  Drivers_View = 'Drivers_View',\n  Drivers_Edit = 'Drivers_Edit',\n  Riders_View = 'Riders_View',\n  Riders_Edit = 'Riders_Edit',\n  Regions_View = 'Regions_View',\n  Regions_Edit = 'Regions_Edit',\n  Services_View = 'Services_View',\n  Services_Edit = 'Services_Edit',\n  Complaints_View = 'Complaints_View',\n  Complaints_Edit = 'Complaints_Edit',\n  Coupons_View = 'Coupons_View',\n  Coupons_Edit = 'Coupons_Edit',\n  Announcements_View = 'Announcements_View',\n  Announcements_Edit = 'Announcements_Edit',\n  Requests_View = 'Requests_View',\n  Fleets_View = 'Fleets_View',\n  Fleets_Edit = 'Fleets_Edit',\n  Gateways_View = 'Gateways_View',\n  Gateways_Edit = 'Gateways_Edit',\n  Users_View = 'Users_View',\n  Users_Edit = 'Users_Edit',\n  Cars_View = 'Cars_View',\n  Cars_Edit = 'Cars_Edit',\n  FleetWallet_View = 'FleetWallet_View',\n  FleetWallet_Edit = 'FleetWallet_Edit',\n  ProviderWallet_View = 'ProviderWallet_View',\n  ProviderWallet_Edit = 'ProviderWallet_Edit',\n  DriverWallet_View = 'DriverWallet_View',\n  DriverWallet_Edit = 'DriverWallet_Edit',\n  RiderWallet_View = 'RiderWallet_View',\n  RiderWallet_Edit = 'RiderWallet_Edit',\n  ReviewParameter_Edit = 'ReviewParameter_Edit',\n  Payouts_View = 'Payouts_View',\n  Payouts_Edit = 'Payouts_Edit',\n  GiftBatch_View = 'GiftBatch_View',\n  GiftBatch_Create = 'GiftBatch_Create',\n  GiftBatch_ViewCodes = 'GiftBatch_ViewCodes',\n  SMSProviders_View = 'SMSProviders_View',\n  SMSProviders_Edit = 'SMSProviders_Edit',\n}\n\nexport class GiftCardsPermissions1705734153794 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.changeColumn(\n        'operator_role',\n        'permissions',\n        new TableColumn({\n          name: 'permissions',\n          type: 'set',\n          enum: Object.values(OperatorPermission),\n        }),\n      );\n    } catch (e) {\n      /* empty */\n    }\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.changeColumn(\n        'operator_role',\n        'permissions',\n        new TableColumn({\n          name: 'permissions',\n          type: 'set',\n          enum: Object.values(OperatorPermission),\n        }),\n      );\n      // await queryRunner.query(\n      //   \"ALTER TABLE `operator_role` CHANGE `permissions` `permissions` set ('Drivers_View', 'Drivers_Edit', 'Riders_View', 'Riders_Edit', 'Regions_View', 'Regions_Edit', 'Services_View', 'Services_Edit', 'Complaints_View', 'Complaints_Edit', 'Coupons_View', 'Coupons_Edit', 'Announcements_View', 'Announcements_Edit', 'Requests_View', 'Fleets_View', 'Fleets_Edit', 'Gateways_View', 'Gateways_Edit', 'Users_View', 'Users_Edit', 'Cars_View', 'Cars_Edit', 'FleetWallet_View', 'FleetWallet_Edit', 'ProviderWallet_View', 'ProviderWallet_Edit', 'DriverWallet_View', 'DriverWallet_Edit', 'RiderWallet_View', 'RiderWallet_Edit', 'ReviewParameter_Edit', 'Payouts_View', 'Payouts_Edit') NOT NULL\",\n      // );\n    } catch (e) {\n      /* empty */\n    }\n  }\n}\n"],"names":["GiftCardsPermissions1705734153794","OperatorPermission","up","queryRunner","changeColumn","TableColumn","name","type","enum","Object","values","e","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IA4CaA,iCAAiC;eAAjCA;;;;;;yBA5CgD;;UAEjDC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAAA,uBAAAA;AA0CL,IAAA,AAAMD,oCAAN,MAAMA;IACX,MAAaE,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,YAAY,CAC5B,iBACA,eACA,IAAIC,oBAAW,CAAC;gBACdC,MAAM;gBACNC,MAAM;gBACNC,MAAMC,OAAOC,MAAM,CAACT;YACtB;QAEJ,EAAE,OAAOU,GAAG;QACV,SAAS,GACX;IACF;IAEA,MAAaC,KAAKT,WAAwB,EAAiB;QACzD,IAAI;YACF,MAAMA,YAAYC,YAAY,CAC5B,iBACA,eACA,IAAIC,oBAAW,CAAC;gBACdC,MAAM;gBACNC,MAAM;gBACNC,MAAMC,OAAOC,MAAM,CAACT;YACtB;QAEF,2BAA2B;QAC3B,6qBAA6qB;QAC7qB,KAAK;QACP,EAAE,OAAOU,GAAG;QACV,SAAS,GACX;IACF;AACF"}