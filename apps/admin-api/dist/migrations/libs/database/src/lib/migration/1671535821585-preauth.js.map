{"version":3,"sources":["../../../../../../../../../libs/database/src/lib/migration/1671535821585-preauth.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner } from 'typeorm';\n\nexport class preauth1671535821585 implements MigrationInterface {\n  public async up(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        `alter table payment modify status enum('processing', 'authorized', 'success', 'canceled', 'failed') default 'processing' not null;`,\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.query(\n        `alter table payment ADD COLUMN externalReferenceNumber text NULL`,\n      );\n    } catch (err) {}\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    try {\n      await queryRunner.query(\n        `alter table payment modify status enum('processing', 'success', 'canceled', 'failed') default 'processing' not null;`,\n      );\n    } catch (error) {\n      console.error(error);\n    }\n    try {\n      await queryRunner.query(\n        'alter table payment drop column externalReferenceNumber',\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n"],"names":["preauth1671535821585","up","queryRunner","query","error","console","err","down"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAA,AAAMA,uBAAN,MAAMA;IACX,MAAaC,GAAGC,WAAwB,EAAiB;QACvD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB,CAAC,kIAAkI,CAAC;QAExI,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMF,YAAYC,KAAK,CACrB,CAAC,gEAAgE,CAAC;QAEtE,EAAE,OAAOG,KAAK,CAAC;IACjB;IAEA,MAAaC,KAAKL,WAAwB,EAAiB;QACzD,IAAI;YACF,MAAMA,YAAYC,KAAK,CACrB,CAAC,oHAAoH,CAAC;QAE1H,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;QACA,IAAI;YACF,MAAMF,YAAYC,KAAK,CACrB;QAEJ,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAACA;QAChB;IACF;AACF"}