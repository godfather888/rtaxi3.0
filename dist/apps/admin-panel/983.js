"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[983],{6807:(T,v,o)=>{o.d(v,{a:()=>C});var g=o(1360),z=o(2209);let C=(()=>{class p{router;route;constructor(t,a){this.router=t,this.route=a}serializeQueryParams(t,a){const r={};if(r.pageIndex=t.pageIndex,r.pageSize=t.pageSize,null!=t.filter){const e=t.filter.filter(s=>null!=s.value&&s.value.length>0).map(s=>`${s.key}|${Array.isArray(s.value)?"in":"eq"}|${Array.isArray(s.value)?s.value.join("-"):s.value}`);null!=a.filter&&e.push(...a.filter.split(",")),r.filter=e.length>0?e.join(","):void 0}if(null!=t.sort&&t.sort.length>0){const e=t.sort.filter(s=>null!=s.value).map(s=>`${s.key}|${"ascend"==s.value?"ASC":"DESC"}`);null!=a.sort&&e.push(...a.sort.split(",")),r.sort=e.length>0?e.join(","):void 0}return r}onTableQueryParamsChange(t){const a=this.serializeQueryParams(t,this.route.snapshot.queryParams);this.router.navigate([],{relativeTo:this.route,queryParams:a,queryParamsHandling:"merge"})}filterText(t,a){const e=this.deserializeQueryParams(this.route).filter??{};e[t]=null!=a?{like:a}:{};const s=Object.keys(e).map(l=>{if(Object.keys(e[l]).length<1)return null;const c=Object.keys(e[l])[0];return`${l}|${c}|${"in"==c?e[l][c].join("-"):e[l][c]}`}).filter(l=>null!=l),d=s.length>0?s.join(","):void 0;this.router.navigate([],{relativeTo:this.route,queryParams:{filter:d},queryParamsHandling:"merge"})}filterRange(t,a){const e=this.deserializeQueryParams(this.route).filter??{};e[t]=null!=a?{between:a}:{};const s=Object.keys(e).map(l=>{if(Object.keys(e[l]).length<1)return null;const c=Object.keys(e[l])[0];return`${l}|${c}|${"in"==c||"between"==c?e[l][c].join("-"):e[l][c]}`}).filter(l=>null!=l),d=s.length>0?s.join(","):void 0;this.router.navigate([],{relativeTo:this.route,queryParams:{filter:d},queryParamsHandling:"merge"})}resetFilter(t,a){this.filterText(t,void 0),a.value=""}downloadURI(t,a){const r=document.createElement("a");r.download=a,r.href=t,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}deserializeQueryParams(t){const a=t.sort?t.sort.split(",").map(d=>({field:d.split("|")[0],direction:d.split("|")[1]})):[],r={};null!=t.filter&&t.filter.split(",").forEach(d=>{const l={},c=d.split("|")[1];if("in"==c){const f=d.split("|")[2].split("-");l[c]=f}else if("between"==c){const f=d.split("|")[2].split("-");l[c]={lower:f[0],upper:f[1]}}else l[c]=d.split("|")[2];r[d.split("|")[0]]=l});const e=null!=t.pageIndex?parseInt(t.pageIndex):1,s=null!=t.pageSize?parseInt(t.pageSize):10;return{sorting:a.length>0?a:void 0,paging:{offset:(e-1)*s,limit:s},filter:null!=r&&Object.keys(r).length>0?r:void 0}}static \u0275fac=function(a){return new(a||p)(g.KVO(z.Ix),g.KVO(z.nX))};static \u0275prov=g.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},9983:(T,v,o)=>{o.r(v),o.d(v,{ComplaintsModule:()=>O});var g=o(8434),z=o(7624),C=o(3241),y=o(2067),j=o(6354),p=o(6807),F=o(9933),t=o(1360),a=o(2209),r=o(3359),e=o(5699),s=o(3062),d=o(8018),l=o(3409);function c(n,b){if(1&n&&(t.j41(0,"tr",5)(1,"td")(2,"div",6)(3,"div")(4,"div",7),t.EFF(5),t.k0s(),t.j41(6,"div",8),t.EFF(7),t.nI1(8,"timeago"),t.k0s()()()(),t.j41(9,"td",8),t.EFF(10),t.k0s(),t.j41(11,"td")(12,"nz-tag",9),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()),2&n){const i=b.$implicit,u=t.XpG(2);t.R7$(2),t.Y8G("routerLink","view/"+i.id),t.R7$(3),t.SpI(" ",i.subject," "),t.R7$(2),t.SpI(" Submitted on ",t.bMT(8,7,i.inscriptionTimestamp)," "),t.R7$(3),t.JRh(i.content),t.R7$(2),t.Y8G("nzColor",u.tagColor.complaintStatus(i.status))("nzBordered",!1),t.R7$(),t.JRh(t.bMT(14,9,"enum.complaintStatus."+u.camelCase(i.status)))}}function f(n,b){if(1&n){const i=t.RV6();t.j41(0,"nz-table",3,0),t.bIt("nzQueryParams",function(m){t.eBV(i);const h=t.XpG();return t.Njj(h.tableService.onTableQueryParamsChange(m))}),t.j41(2,"thead")(3,"tr")(4,"th"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th"),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"tbody"),t.DNE(14,c,15,11,"tr",4),t.k0s()()}if(2&n){const i=b.ngIf,u=t.sdS(1);t.Y8G("nzFrontPagination",!1)("nzData",i.nodes)("nzTotal",i.totalCount),t.R7$(5),t.JRh(t.bMT(6,7,"profile.title")),t.R7$(3),t.JRh(t.bMT(9,9,"profile.content")),t.R7$(3),t.JRh(t.bMT(12,11,"profile.status")),t.R7$(3),t.Y8G("ngForOf",u.data)}}let S=(()=>{class n{route;router;tagColor;tableService;query;complaintStatus=C.ywf;camelCase=F.xQ;constructor(i,u,m,h){this.route=i,this.router=u,this.tagColor=m,this.tableService=h}ngOnInit(){this.query=this.route.data.pipe((0,j.T)(i=>i.complaints))}static \u0275fac=function(u){return new(u||n)(t.rXU(a.nX),t.rXU(a.Ix),t.rXU(y.t),t.rXU(p.a))};static \u0275cmp=t.VBU({type:n,selectors:[["app-complaints-list"]],standalone:!1,decls:4,vars:4,consts:[["table",""],["nzBackIcon","","nzTitle","Complaints","nzSubtitle","Complaints submitted by riders/drivers",3,"nzGhost"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["class","group cursor-pointer",4,"ngFor","ngForOf"],[1,"group","cursor-pointer"],[1,"flex","items-center","ml-2",3,"routerLink"],[1,"table-first-line"],[1,"table-second-line"],[3,"nzColor","nzBordered"]],template:function(u,m){if(1&u&&(t.j41(0,"nz-page-header",1)(1,"nz-page-header-content"),t.DNE(2,f,15,13,"nz-table",2),t.nI1(3,"async"),t.k0s()()),2&u){let h;t.Y8G("nzGhost",!1),t.R7$(2),t.Y8G("ngIf",null==(h=t.bMT(3,2,m.query))||null==h.data?null:h.data.taxiSupportRequests)}},dependencies:[g.Sq,g.bT,z.Wk,r.CP,r.SO,r._4,r.IL,r.aj,r.kt,e.s,s.WB,s.zR,g.Jj,d.D9,l.PZ],encapsulation:2})}return n})(),I=(()=>{class n{paging;gql;constructor(i,u){this.paging=i,this.gql=u}resolve(i,u){const m=this.paging.deserializeQueryParams(i.queryParams);return this.gql.fetch(m)}static \u0275fac=function(u){return new(u||n)(t.KVO(p.a),t.KVO(C.fT6))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();const R=[{path:"",component:S,resolve:{complaints:I},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",loadChildren:()=>Promise.all([o.e(76),o.e(98)]).then(o.bind(o,7098)).then(n=>n.ComplaintViewModule)}];let $=(()=>{class n{static \u0275fac=function(u){return new(u||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({providers:[I],imports:[z.iI.forChild(R),z.iI]})}return n})();var P=o(5885);let O=(()=>{class n{static \u0275fac=function(u){return new(u||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({providers:[y.t],imports:[g.MD,$,P.G]})}return n})()}}]);