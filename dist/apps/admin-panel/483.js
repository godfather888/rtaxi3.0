"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[483],{8483:(bn,C,o)=>{o.r(C),o.d(C,{FleetViewModule:()=>hn});var h=o(7624),I=o(467),l=o(9417),R=o(3350),d=o(3241),F=o(2067),Y=o(9923),k=o(4843),n=o(1360),z=o(2209),M=o(7094),O=o(3617),S=o(1011),$=o(513),G=o(6389),_=o(5930),b=o(7529),f=o(8927),N=o(2047),T=o(8018);let x=(()=>{class t{route;fb;tagColor;updateGQL;msg;router;form;map;center={lat:24,lng:12};drawingManager;countryCodes=Y.o;subscription;polygons=[];constructor(e,r,a,i,c,p){this.route=e,this.fb=r,this.tagColor=a,this.updateGQL=i,this.msg=c,this.router=p}ngOnInit(){this.form=this.fb.group({id:[null,l.k0.required],name:[null,l.k0.required],phoneNumber:[null,l.k0.required],mobileNumber:[null,l.k0.required],userName:[null,l.k0.required],password:[null,l.k0.required],accountNumber:[null,l.k0.required],commissionSharePercent:[0,l.k0.required],commissionShareFlat:[0,l.k0.required],feeMultiplier:[null],address:[null],exclusivityAreas:[null]})}ngAfterViewInit(){this.initializeDrawingManager()}initializeDrawingManager(){this.subscription=this.route.parent.data.subscribe(e=>{if(null!=e.fleet){const a=e.fleet.data.fleet;if(null!=a&&(this.form.patchValue(a),null!=a.exclusivityAreas&&a.exclusivityAreas.length>0)){const i=new google.maps.LatLngBounds;for(const c of a.exclusivityAreas)for(const p of c)i.extend(p);this.map.fitBounds(i)}}}),this.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,map:this.map?.googleMap,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON]}}),google.maps.event.addListener(this.drawingManager,"overlaycomplete",e=>{if(this.polygons?.push(e.overlay),e.type===google.maps.drawing.OverlayType.POLYGON){const r=e.overlay.getPath().getArray();r.push(r[0]),null==this.form.value.exclusivityAreas?this.form.value.exclusivityAreas=[r]:this.form.value.exclusivityAreas.push(r)}})}onSubmit(){var e=this;return(0,I.A)(function*(){const{id:r,...a}=e.form.value;try{yield(0,k._)(e.updateGQL.mutate({id:r,update:a})),e.msg.success("Success"),e.router.navigateByUrl("/management/fleets")}catch(i){e.msg.error(i.message)}})()}clearMap(){for(const e of this.polygons)e.setMap(null);this.polygons=[],this.form.patchValue({exclusivityAreas:[]}),this.drawingManager?.setValues(null)}static \u0275fac=function(r){return new(r||t)(n.rXU(z.nX),n.rXU(l.ze),n.rXU(F.t),n.rXU(d.WuG),n.rXU(M.xh),n.rXU(z.Ix))};static \u0275cmp=n.VBU({type:t,selectors:[["app-fleet-view-details"]],viewQuery:function(r,a){if(1&r&&n.GBs(R.u6,5),2&r){let i;n.mGM(i=n.lsd())&&(a.map=i.first)}},standalone:!1,decls:82,vars:53,consts:[["frm",""],["poly",""],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],["type","hidden","formControlName","id"],[1,"md:grid","md:grid-cols-4","md:gap-2"],["nzRequired","","nzFor","name"],[3,"nzErrorTip"],["nz-input","","formControlName","name","id","name"],["nzFor","phoneNumber","nzRequired",""],["formControlName","phoneNumber","id","phoneNumber",1,"w-full"],["nzFor","mobileNumber","nzRequired",""],["formControlName","mobileNumber","id","mobileNumber",1,"w-full"],["nzFor","userName","nzRequired",""],["nz-input","","formControlName","userName","id","userName"],["nzFor","password","nzRequired",""],["nz-input","","formControlName","password","id","password"],["nzRequired","","nzFor","commissionSharePercent"],["required","","id","commissionSharePercent","formControlName","commissionSharePercent",1,"w-full",3,"nzMin","nzMax"],["nzRequired","","nzFor","commissionShareFlat"],["required","","id","commissionShareFlat","formControlName","commissionShareFlat",1,"w-full",3,"nzMin","nzMax"],["nzFor","feeMultiplier"],["id","feeMultiplier","formControlName","feeMultiplier",1,"w-full",3,"nzPrecision"],["nzRequired","","nzFor","accountNumber"],["nz-input","","required","","id","accountNumber","formControlName","accountNumber"],["nzFor","address"],["nz-input","","id","address","formControlName","address"],["type","hidden","hidden","","formControlName","exclusivityAreas"],["height","400px","width","100%",3,"center","zoom"],[3,"paths"],["nzType","warning","nzShowIcon","",1,"mb-4",3,"nzMessage","nzDescription"],[1,"float-right"],["nz-button","","type","button",2,"margin","4px",3,"click","disabled"],["nz-button","","nzType","primary","type","submit",3,"disabled"]],template:function(r,a){if(1&r){const i=n.RV6();n.j41(0,"form",2,0),n.bIt("ngSubmit",function(){return n.eBV(i),n.Njj(a.onSubmit())}),n.nrm(2,"input",3),n.j41(3,"div",4)(4,"nz-form-item")(5,"nz-form-label",5),n.EFF(6),n.nI1(7,"translate"),n.k0s(),n.j41(8,"nz-form-control",6),n.nI1(9,"translate"),n.nrm(10,"input",7),n.k0s()(),n.j41(11,"nz-form-item")(12,"nz-form-label",8),n.EFF(13),n.nI1(14,"translate"),n.k0s(),n.j41(15,"nz-form-control"),n.nrm(16,"nz-input-number",9),n.k0s()(),n.j41(17,"nz-form-item")(18,"nz-form-label",10),n.EFF(19),n.nI1(20,"translate"),n.k0s(),n.j41(21,"nz-form-control"),n.nrm(22,"nz-input-number",11),n.k0s()(),n.j41(23,"nz-form-item")(24,"nz-form-label",12),n.EFF(25),n.nI1(26,"translate"),n.k0s(),n.j41(27,"nz-form-control"),n.nrm(28,"input",13),n.k0s()(),n.j41(29,"nz-form-item")(30,"nz-form-label",14),n.EFF(31,"Password"),n.k0s(),n.j41(32,"nz-form-control"),n.nrm(33,"input",15),n.k0s()(),n.j41(34,"nz-form-item")(35,"nz-form-label",16),n.EFF(36),n.nI1(37,"translate"),n.k0s(),n.j41(38,"nz-form-control"),n.nrm(39,"nz-input-number",17),n.k0s()(),n.j41(40,"nz-form-item")(41,"nz-form-label",18),n.EFF(42),n.nI1(43,"translate"),n.k0s(),n.j41(44,"nz-form-control"),n.nrm(45,"nz-input-number",19),n.k0s()(),n.j41(46,"nz-form-item")(47,"nz-form-label",20),n.EFF(48,"Fee Multiplier"),n.k0s(),n.j41(49,"nz-form-control"),n.nrm(50,"nz-input-number",21),n.k0s()(),n.j41(51,"nz-form-item")(52,"nz-form-label",22),n.EFF(53),n.nI1(54,"translate"),n.k0s(),n.j41(55,"nz-form-control"),n.nrm(56,"input",23),n.k0s()(),n.j41(57,"nz-form-item")(58,"nz-form-label",24),n.EFF(59),n.nI1(60,"translate"),n.k0s(),n.j41(61,"nz-form-control"),n.nrm(62,"input",25),n.k0s()()(),n.j41(63,"nz-form-item")(64,"nz-form-label",24),n.EFF(65),n.nI1(66,"translate"),n.k0s(),n.j41(67,"nz-form-control"),n.nrm(68,"input",26),n.j41(69,"google-map",27),n.nrm(70,"map-polygon",28,1),n.k0s()()(),n.nrm(72,"nz-alert",29),n.nI1(73,"translate"),n.nI1(74,"translate"),n.j41(75,"div",30)(76,"button",31),n.bIt("click",function(){return n.eBV(i),n.Njj(a.clearMap())}),n.EFF(77),n.nI1(78,"translate"),n.k0s(),n.j41(79,"button",32),n.EFF(80),n.nI1(81,"translate"),n.k0s()()()}2&r&&(n.Y8G("formGroup",a.form),n.R7$(6),n.JRh(n.bMT(7,25,"profile.name")),n.R7$(2),n.FS9("nzErrorTip",n.bMT(9,27,"error.nameInvalid")),n.R7$(5),n.JRh(n.bMT(14,29,"profile.phoneNumber")),n.R7$(6),n.JRh(n.bMT(20,31,"profile.mobileNumber")),n.R7$(6),n.JRh(n.bMT(26,33,"profile.userName")),n.R7$(11),n.JRh(n.bMT(37,35,"profile.commissionPercentage")),n.R7$(3),n.Y8G("nzMin",0)("nzMax",100),n.R7$(3),n.JRh(n.bMT(43,37,"profile.commissionFlat")),n.R7$(3),n.Y8G("nzMin",0)("nzMax",100),n.R7$(5),n.Y8G("nzPrecision",1),n.R7$(3),n.JRh(n.bMT(54,39,"profile.bankAccountInfo")),n.R7$(6),n.JRh(n.bMT(60,41,"profile.address")),n.R7$(6),n.JRh(n.bMT(66,43,"fleet.exclusitivityAreaTitle")),n.R7$(4),n.Y8G("center",a.center)("zoom",4),n.R7$(),n.Y8G("paths",a.form.value.exclusivityAreas),n.R7$(2),n.Y8G("nzMessage",n.bMT(73,45,"profile.warning"))("nzDescription",n.bMT(74,47,"fleet.exclusitivityAreaWarning")),n.R7$(4),n.Y8G("disabled",0==a.polygons.length),n.R7$(),n.JRh(n.bMT(78,49,"profile.clearMap")),n.R7$(2),n.Y8G("disabled",a.form.invalid),n.R7$(),n.JRh(n.bMT(81,51,"profile.submit")))},dependencies:[l.qT,l.me,l.BC,l.cb,l.YS,l.j4,l.JD,O.Y,S.Sy,$.aO,G.c,_.p,b.Uq,b.e,f.CA,f.Ls,f.Mo,f.zS,N.F,R.u6,R.tc,T.D9],encapsulation:2})}return t})();var y=o(6807),j=o(6354),J=o(712),u=o(8434),m=o(3359),w=o(1997),V=o(5703),U=o(5154),q=o(3409);function X(t,s){if(1&t&&(n.j41(0,"a",31),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&t){const e=n.XpG().$implicit;n.Y8G("routerLink","/management/users/view/"+e.operatorId),n.R7$(),n.JRh(n.bMT(2,2,"table.viewOperator"))}}function A(t,s){if(1&t&&(n.j41(0,"a",31),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&t){const e=n.XpG().$implicit;n.Y8G("routerLink","/requests/view/"+e.requestId),n.R7$(),n.JRh(n.bMT(2,2,"table.viewRequest"))}}function B(t,s){if(1&t&&(n.j41(0,"tr")(1,"td",28),n.nI1(2,"date"),n.EFF(3),n.nI1(4,"timeago"),n.k0s(),n.j41(5,"td"),n.EFF(6),n.nI1(7,"translate"),n.nI1(8,"translate"),n.k0s(),n.j41(9,"td",29),n.EFF(10),n.nI1(11,"currency"),n.k0s(),n.j41(12,"td",25),n.EFF(13),n.k0s(),n.j41(14,"td",26),n.EFF(15),n.k0s(),n.j41(16,"td"),n.DNE(17,X,3,4,"a",30)(18,A,3,4,"a",30),n.k0s()()),2&t){const e=s.$implicit;n.R7$(),n.Y8G("nz-tooltip",n.i5U(2,10,e.transactionTimestamp,"short")),n.R7$(2),n.JRh(n.bMT(4,13,e.transactionTimestamp)),n.R7$(3),n.JRh("Deduct"===e.action?n.bMT(7,15,"enum.transactionType."+e.deductType):n.bMT(8,17,"enum.transactionType."+e.rechargeType)),n.R7$(3),n.Y8G("ngClass","Recharge"===e.action?"text-green-500":"text-red-500"),n.R7$(),n.Lme("","Recharge"===e.action?"+":"","",n.i5U(11,19,e.amount,e.currency),""),n.R7$(3),n.JRh(e.refrenceNumber),n.R7$(2),n.JRh(e.description),n.R7$(2),n.Y8G("ngIf",null!==e.operatorId),n.R7$(),n.Y8G("ngIf",null!==e.requestId)}}function Q(t,s){if(1&t){const e=n.RV6();n.j41(0,"nz-table",22,0),n.bIt("nzQueryParams",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.tableService.onTableQueryParamsChange)}),n.j41(2,"thead")(3,"tr")(4,"th",23),n.EFF(5),n.nI1(6,"translate"),n.k0s(),n.j41(7,"th",24),n.EFF(8),n.nI1(9,"translate"),n.k0s(),n.j41(10,"th"),n.EFF(11),n.nI1(12,"translate"),n.k0s(),n.j41(13,"th",25),n.EFF(14),n.nI1(15,"translate"),n.k0s(),n.j41(16,"th",26),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.j41(19,"th"),n.EFF(20),n.nI1(21,"translate"),n.k0s()()(),n.j41(22,"tbody"),n.DNE(23,B,19,22,"tr",27),n.k0s()()}if(2&t){const e=s.ngIf,r=n.sdS(1);n.Y8G("nzFrontPagination",!1)("nzData",e.nodes)("nzTotal",e.totalCount),n.R7$(5),n.SpI(" ",n.bMT(6,10,"profile.dateTime")," "),n.R7$(3),n.SpI(" ",n.bMT(9,12,"profile.transactionType")," "),n.R7$(3),n.SpI(" ",n.bMT(12,14,"profile.amount")," "),n.R7$(3),n.SpI(" ",n.bMT(15,16,"profile.documentNumber")," "),n.R7$(3),n.SpI(" ",n.bMT(18,18,"profile.details")," "),n.R7$(3),n.JRh(n.bMT(21,20,"profile.actions")),n.R7$(3),n.Y8G("ngForOf",r.data)}}function W(t,s){if(1&t&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.nI1(3,"currency"),n.k0s()()),2&t){const e=s.$implicit;n.R7$(2),n.JRh(n.i5U(3,1,e.balance,e.currency))}}function K(t,s){if(1&t&&(n.j41(0,"nz-table",32,1)(2,"thead")(3,"tr")(4,"th"),n.EFF(5,"Amount"),n.k0s()()(),n.j41(6,"tbody"),n.DNE(7,W,4,4,"tr",27),n.k0s()()),2&t){const e=s.ngIf,r=n.sdS(1);n.Y8G("nzData",e)("nzTotal",e.length),n.R7$(7),n.Y8G("ngForOf",r.data)}}function Z(t,s){1&t&&n.nrm(0,"div")}function H(t,s){if(1&t&&(n.nrm(0,"nz-option",34),n.nI1(1,"translate")),2&t){const e=s.$implicit;n.Y8G("nzLabel",n.bMT(1,2,"enum.transactionType."+e))("nzValue",e)}}function nn(t,s){if(1&t&&(n.j41(0,"nz-form-item")(1,"nz-form-label"),n.EFF(2,"Recharge Type"),n.k0s(),n.j41(3,"nz-form-control")(4,"nz-select",33),n.DNE(5,H,2,4,"nz-option",16),n.k0s()()()),2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngForOf",e.rechargeTypes)}}function en(t,s){if(1&t&&(n.nrm(0,"nz-option",34),n.nI1(1,"translate")),2&t){const e=s.$implicit;n.Y8G("nzLabel",n.bMT(1,2,"enum.transactionType."+e))("nzValue",e)}}function tn(t,s){if(1&t&&(n.j41(0,"nz-form-item")(1,"nz-form-label"),n.EFF(2,"Deduct Type"),n.k0s(),n.j41(3,"nz-form-control")(4,"nz-select",35),n.DNE(5,en,2,4,"nz-option",16),n.k0s()()()),2&t){const e=n.XpG();n.R7$(5),n.Y8G("ngForOf",e.deductTypes)}}function rn(t,s){if(1&t&&n.nrm(0,"nz-option",34),2&t){const e=s.$implicit;n.Y8G("nzLabel",e.currency)("nzValue",e.currency)}}let an=(()=>{class t{route;tagColor;tableService;fb;msg;routerHelper;createTransactionGQL;query;formTransaction;deductTypes=Object.keys(d.dgW);rechargeTypes=Object.keys(d.P_u);constructor(e,r,a,i,c,p,Fn){this.route=e,this.tagColor=r,this.tableService=a,this.fb=i,this.msg=c,this.routerHelper=p,this.createTransactionGQL=Fn}ngOnInit(){this.query=this.route.data.pipe((0,j.T)(e=>e.financials)),this.formTransaction=this.fb.group({action:[null,l.k0.required],rechargeType:[null],deductType:[null],amount:[0,l.k0.required],currency:[null,l.k0.required],description:[null],refrenceNumber:[null]})}getUniquieCurrencies(e){return null==e?[]:[...new Set(e)]}onSubmitTransaction(){var e=this;return(0,I.A)(function*(){if(e.formTransaction.value.fleetId=e.route.parent?.snapshot.params.id,"Deduct"!=e.formTransaction.value.action||null!=e.formTransaction.value.deductType)if("Recharge"!=e.formTransaction.value.action||null!=e.formTransaction.value.rechargeType)try{yield(0,k._)(e.createTransactionGQL.mutate({input:e.formTransaction.value})),e.msg.success("Transaction Submitted."),e.routerHelper.refresh(e.route),e.formTransaction.patchValue({})}catch(r){e.msg.error(r.message)}else e.msg.error("Please select the transaction type.");else e.msg.error("Please select the transaction type.")})()}static \u0275fac=function(r){return new(r||t)(n.rXU(z.nX),n.rXU(F.t),n.rXU(y.a),n.rXU(l.ze),n.rXU(M.xh),n.rXU(J.T),n.rXU(d.pzH))};static \u0275cmp=n.VBU({type:t,selectors:[["app-fleet-view-financials"]],standalone:!1,decls:44,vars:20,consts:[["table",""],["walletTable",""],["fxLayout","row","fxLayoutGap","4px",1,"dt-actionbar"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzTitle","Wallet Summary","nzBordered","","class","mt-2",3,"nzFrontPagination","nzData","nzTotal",4,"ngIf"],[1,"mt-2",3,"nzTitle"],["nz-form","",3,"ngSubmit","formGroup"],[1,"lg:grid","lg:grid-cols-2","lg:gap-2"],["nzRequired",""],["formControlName","action","nzRequired",""],["nzLabel","Deduct","nzValue","Deduct"],["nzLabel","Recharge","nzValue","Recharge"],[4,"ngIf"],["nzRequired","","nzFor","amount"],["formControlName","amount","id","amount","required","",1,"w-full"],["formControlName","currency","id","currency","required",""],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzFor","refrenceNumber"],["nz-input","","formControlName","refrenceNumber","id","refrenceNumber"],["nzFor","description"],["nz-input","","formControlName","description","id","description"],["nz-button","","nzType","primary","type","submit",1,"float-right","mt-2",3,"disabled"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["nzShowSort","","nzColumnKey","transactionTime"],["nzShowSort","","nzColumnKey","transactionType"],[1,"hidden","lg:table-cell"],[1,"hidden","xl:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"ngClass"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["nzTitle","Wallet Summary","nzBordered","",1,"mt-2",3,"nzFrontPagination","nzData","nzTotal"],["formControlName","rechargeType"],[3,"nzLabel","nzValue"],["formControlName","deductType"]],template:function(r,a){if(1&r&&(n.nrm(0,"div",2),n.DNE(1,Q,24,22,"nz-table",3),n.nI1(2,"async"),n.DNE(3,K,8,3,"nz-table",4),n.nI1(4,"async"),n.j41(5,"nz-card",5),n.nI1(6,"translate"),n.j41(7,"form",6),n.bIt("ngSubmit",function(){return a.onSubmitTransaction()}),n.j41(8,"div",7)(9,"nz-form-item")(10,"nz-form-label",8),n.EFF(11,"Type"),n.k0s(),n.j41(12,"nz-form-control")(13,"nz-select",9),n.nrm(14,"nz-option",10)(15,"nz-option",11),n.k0s()()(),n.DNE(16,Z,1,0,"div",12)(17,nn,6,1,"nz-form-item",12)(18,tn,6,1,"nz-form-item",12),n.j41(19,"nz-form-item")(20,"nz-form-label",13),n.EFF(21,"Amount"),n.k0s(),n.j41(22,"nz-form-control"),n.nrm(23,"nz-input-number",14),n.k0s()(),n.j41(24,"nz-form-item")(25,"nz-form-label",8),n.EFF(26,"Currency"),n.k0s(),n.j41(27,"nz-form-control")(28,"nz-select",15),n.DNE(29,rn,1,2,"nz-option",16),n.nI1(30,"async"),n.k0s()()(),n.j41(31,"nz-form-item")(32,"nz-form-label",17),n.EFF(33,"Document Number"),n.k0s(),n.j41(34,"nz-form-control"),n.nrm(35,"input",18),n.k0s()(),n.j41(36,"nz-form-item")(37,"nz-form-label",19),n.EFF(38,"Description"),n.k0s(),n.j41(39,"nz-form-control"),n.nrm(40,"input",20),n.k0s()()(),n.j41(41,"button",21),n.EFF(42),n.nI1(43,"translate"),n.k0s()()()),2&r){let i,c,p;n.R7$(),n.Y8G("ngIf",null==(i=n.bMT(2,10,a.query))||null==i.data||null==i.data.fleet?null:i.data.fleet.transactions),n.R7$(2),n.Y8G("ngIf",null==(c=n.bMT(4,12,a.query))||null==c.data||null==c.data.fleet?null:c.data.fleet.wallet),n.R7$(2),n.FS9("nzTitle",n.bMT(6,14,"profile.insertTransaction")),n.R7$(2),n.Y8G("formGroup",a.formTransaction),n.R7$(9),n.Y8G("ngIf",null===a.formTransaction.value.action),n.R7$(),n.Y8G("ngIf","Recharge"===a.formTransaction.value.action),n.R7$(),n.Y8G("ngIf","Deduct"===a.formTransaction.value.action),n.R7$(11),n.Y8G("ngForOf",a.getUniquieCurrencies(null==(p=n.bMT(30,16,a.query))||null==p.data||null==p.data.regions?null:p.data.regions.nodes)),n.R7$(12),n.Y8G("disabled",!a.formTransaction.valid),n.R7$(),n.JRh(n.bMT(43,18,"profile.submit"))}},dependencies:[h.Wk,u.YU,u.Sq,u.bT,l.qT,l.me,l.BC,l.cb,l.YS,l.j4,l.JD,m.CP,m.Cc,m.SO,m._4,m.IL,m.aj,m.kt,S.Sy,$.aO,G.c,_.p,b.Uq,b.e,f.CA,f.Ls,f.Mo,f.zS,w.ld,w.WI,V.cK,N.F,U.LH,u.Jj,u.oe,u.vh,T.D9,q.PZ],encapsulation:2})}return t})(),E=(()=>{class t{gql;tableService;constructor(e,r){this.gql=e,this.tableService=r}resolve(e,r){const a=this.tableService.deserializeQueryParams(e.queryParams);return this.gql.fetch({id:e.parent?.params.id,...a})}static \u0275fac=function(r){return new(r||t)(n.KVO(d.BG6),n.KVO(y.a))};static \u0275prov=n.jDH({token:t,factory:t.\u0275fac})}return t})();function on(t,s){if(1&t&&(n.j41(0,"tr",5)(1,"td"),n.EFF(2),n.k0s()()),2&t){const e=s.$implicit;n.Y8G("routerLink","/management/zone-prices/view/"+e.id),n.R7$(2),n.JRh(e.name)}}function ln(t,s){if(1&t){const e=n.RV6();n.j41(0,"nz-table",3,0),n.bIt("nzQueryParams",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.tableService.onTableQueryParamsChange)}),n.j41(2,"thead")(3,"tr")(4,"th"),n.EFF(5),n.nI1(6,"translate"),n.k0s()()(),n.j41(7,"tbody"),n.DNE(8,on,3,2,"tr",4),n.k0s()()}if(2&t){const e=s.ngIf,r=n.sdS(1);n.Y8G("nzFrontPagination",!1)("nzData",e.nodes)("nzTotal",e.totalCount),n.R7$(5),n.SpI(" ",n.bMT(6,5,"profile.name")," "),n.R7$(3),n.Y8G("ngForOf",r.data)}}let sn=(()=>{class t{route;tagColor;tableService;query;constructor(e,r,a){this.route=e,this.tagColor=r,this.tableService=a}ngOnInit(){this.query=this.route.data.pipe((0,j.T)(e=>e.zonePrices))}static \u0275fac=function(r){return new(r||t)(n.rXU(z.nX),n.rXU(F.t),n.rXU(y.a))};static \u0275cmp=n.VBU({type:t,selectors:[["app-fleet-view-zone-prices"]],standalone:!1,decls:3,vars:3,consts:[["table",""],["fxLayout","row","fxLayoutGap","4px",1,"dt-actionbar"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["class","group cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"group","cursor-pointer",3,"routerLink"]],template:function(r,a){if(1&r&&(n.nrm(0,"div",1),n.DNE(1,ln,9,7,"nz-table",2),n.nI1(2,"async")),2&r){let i;n.R7$(),n.Y8G("ngIf",null==(i=n.bMT(2,1,a.query))||null==i.data||null==i.data.fleet?null:i.data.fleet.zonePrices)}},dependencies:[h.Wk,u.Sq,u.bT,m.CP,m.SO,m._4,m.IL,m.aj,m.kt,u.Jj,T.D9],encapsulation:2})}return t})(),P=(()=>{class t{gql;tableService;constructor(e,r){this.gql=e,this.tableService=r}resolve(e,r){const a=this.tableService.deserializeQueryParams(e.queryParams);return this.gql.fetch({id:e.parent?.params.id,...a})}static \u0275fac=function(r){return new(r||t)(n.KVO(d.jV2),n.KVO(y.a))};static \u0275prov=n.jDH({token:t,factory:t.\u0275fac})}return t})();var v=o(6057),g=o(3062),D=o(2e3);function mn(t,s){1&t&&(n.j41(0,"a",9),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&t&&(n.R7$(),n.JRh(n.bMT(2,1,"profile.details")))}function cn(t,s){1&t&&(n.j41(0,"a",10),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&t&&(n.R7$(),n.JRh(n.bMT(2,1,"profile.financialRecords")))}function un(t,s){1&t&&(n.j41(0,"a",11),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&t&&(n.R7$(),n.JRh(n.bMT(2,1,"menu.management.zonePrices")))}function pn(t,s){if(1&t&&(n.j41(0,"nz-card")(1,"nz-page-header")(2,"nz-page-header-title"),n.EFF(3),n.k0s(),n.nrm(4,"nz-page-header-tags")(5,"nz-page-header-extra"),n.j41(6,"nz-page-header-content")(7,"div",1)(8,"div",2)(9,"nz-descriptions",3)(10,"nz-descriptions-item",4),n.nI1(11,"translate"),n.EFF(12),n.k0s(),n.j41(13,"nz-descriptions-item",4),n.nI1(14,"translate"),n.EFF(15),n.k0s()()()()(),n.j41(16,"nz-page-header-footer")(17,"nz-tabset",5)(18,"nz-tab"),n.DNE(19,mn,3,3,"a",6),n.k0s(),n.j41(20,"nz-tab"),n.DNE(21,cn,3,3,"a",7),n.k0s(),n.j41(22,"nz-tab"),n.DNE(23,un,3,3,"a",8),n.k0s()(),n.nrm(24,"router-outlet"),n.k0s()()()),2&t){const e=s.ngIf;n.R7$(3),n.JRh(e.name),n.R7$(6),n.Y8G("nzColumn",2),n.R7$(),n.FS9("nzTitle",n.bMT(11,8,"profile.phoneNumber")),n.Y8G("nzSpan",1),n.R7$(2),n.SpI("",e.phoneNumber," "),n.R7$(),n.FS9("nzTitle",n.bMT(14,10,"profile.address")),n.Y8G("nzSpan",2),n.R7$(2),n.SpI("",e.address," ")}}let fn=(()=>{class t{route;tagColor;query;constructor(e,r){this.route=e,this.tagColor=r}ngOnInit(){this.query=this.route.data.pipe((0,j.T)(e=>e.fleet))}static \u0275fac=function(r){return new(r||t)(n.rXU(z.nX),n.rXU(F.t))};static \u0275cmp=n.VBU({type:t,selectors:[["app-fleet-view"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],[1,"content"],[1,"main"],[3,"nzColumn"],[3,"nzTitle","nzSpan"],["nzLinkRouter","",1,"mb-2"],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","financials",4,"nzTabLink"],["nz-tab-link","","routerLink","zone-prices",4,"nzTabLink"],["nz-tab-link","","routerLink","details"],["nz-tab-link","","routerLink","financials"],["nz-tab-link","","routerLink","zone-prices"]],template:function(r,a){if(1&r&&(n.DNE(0,pn,25,12,"nz-card",0),n.nI1(1,"async")),2&r){let i;n.Y8G("ngIf",null==(i=n.bMT(1,1,a.query))||null==i.data?null:i.data.fleet)}},dependencies:[z.n3,h.Wk,u.bT,v.JZ,v.rE,v.v3,v.rM,g.WB,g.k9,g.zR,g.cC,g.ov,g.F0,D.xA,D.gr,V.cK,u.Jj,T.D9],encapsulation:2})}return t})(),L=(()=>{class t{gql;constructor(e){this.gql=e}resolve(e,r){return this.gql.fetch({id:e.params.id})}static \u0275fac=function(r){return new(r||t)(n.KVO(d.sxZ))};static \u0275prov=n.jDH({token:t,factory:t.\u0275fac})}return t})();const dn=[{path:"",component:fn,resolve:{fleet:L},children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:x},{path:"financials",component:an,resolve:{financials:E},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"zone-prices",component:sn,resolve:{zonePrices:P},runGuardsAndResolvers:"paramsOrQueryParamsChange"}]}];let zn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=n.$C({type:t});static \u0275inj=n.G2t({providers:[L,E,P],imports:[h.iI.forChild(dn),h.iI]})}return t})();var gn=o(5885);let hn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=n.$C({type:t});static \u0275inj=n.G2t({imports:[zn,gn.G]})}return t})()}}]);