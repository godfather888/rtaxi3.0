"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[34],{34:(U,F,a)=>{a.r(F),a.d(F,{GiftModule:()=>yt});var p=a(8434),T=a(7624),G=a(3241),t=a(1360);let I=(()=>{class e{gql;constructor(n){this.gql=n}resolve(n,r){return this.gql.fetch({id:n.params.id})}static \u0275fac=function(r){return new(r||e)(t.KVO(G.EqW))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var h=a(6807),R=a(7094);let l=(()=>{class e{paging;gql;message;subscription;constructor(n,r,o){this.paging=n,this.gql=r,this.message=o}resolve(n,r){const o=this.paging.deserializeQueryParams(n.queryParams),s=this.gql.fetch(o);return this.subscription=s.subscribe({error:v=>{this.message.error("This role does not have sufficient permission to access this menu.")}}),s}ngOnDestroy(){this.subscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)(t.KVO(h.a),t.KVO(G.TkR),t.KVO(R.xh))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var u=a(2067),m=a(6354),c=a(2209),i=a(3359),g=a(513),d=a(6389),f=a(5930),y=a(1951),C=a(3062),S=a(8018);function P(e,z){if(1&e&&(t.j41(0,"tr",7)(1,"td")(2,"div")(3,"div",8),t.EFF(4),t.k0s(),t.j41(5,"div",9),t.EFF(6),t.nI1(7,"currency"),t.k0s()()(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"date"),t.nI1(11,"date"),t.k0s()()),2&e){let n;const r=z.$implicit;t.Y8G("routerLink","view/"+r.id),t.R7$(4),t.SpI(" ",r.name," "),t.R7$(2),t.SpI(" ","Amount: "+t.i5U(7,5,r.amount,r.currency)+", Quantity: "+((null!==(n=null==r.totalUnused[0].count?null:r.totalUnused[0].count.id)&&void 0!==n?n:0)+(null!==(n=null==r.totalUsed[0].count?null:r.totalUsed[0].count.id)&&void 0!==n?n:0))," "),t.R7$(3),t.Lme("",t.i5U(10,8,r.availableFrom,"mediumDate")," - ",t.i5U(11,11,r.expireAt,"mediumDate"),"")}}function _(e,z){if(1&e){const n=t.RV6();t.j41(0,"nz-table",5,0),t.bIt("nzQueryParams",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.tableService.onTableQueryParamsChange(o))}),t.j41(2,"thead")(3,"tr")(4,"th"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Availability Date"),t.k0s()()(),t.j41(9,"tbody"),t.DNE(10,P,12,14,"tr",6),t.k0s()()}if(2&e){const n=z.ngIf,r=t.sdS(1);t.Y8G("nzFrontPagination",!1)("nzData",n.nodes)("nzTotal",n.totalCount),t.R7$(5),t.JRh(t.bMT(6,5,"profile.name")),t.R7$(5),t.Y8G("ngForOf",r.data)}}let Y=(()=>{class e{route;tableService;tagColor;query;constructor(n,r,o){this.route=n,this.tableService=r,this.tagColor=o}ngOnInit(){this.query=this.route.data.pipe((0,m.T)(n=>n.giftBatches))}static \u0275fac=function(r){return new(r||e)(t.rXU(c.nX),t.rXU(h.a),t.rXU(u.t))};static \u0275cmp=t.VBU({type:e,selectors:[["app-gift-batch-list"]],standalone:!1,decls:9,vars:7,consts:[["table",""],["nzBackIcon","","nzTitle","Gift Cards","nzSubtitle","List of all gift card batches",3,"nzGhost"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["class","group cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"group","cursor-pointer",3,"routerLink"],[1,"table-first-line"],[1,"table-second-line"]],template:function(r,o){if(1&r&&(t.j41(0,"nz-page-header",1)(1,"nz-page-header-extra")(2,"button",2),t.nrm(3,"i",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"nz-page-header-content"),t.DNE(7,_,11,7,"nz-table",4),t.nI1(8,"async"),t.k0s()()),2&r){let s;t.Y8G("nzGhost",!1),t.R7$(4),t.JRh(t.bMT(5,3,"profile.add")),t.R7$(3),t.Y8G("ngIf",null==(s=t.bMT(8,5,o.query))||null==s.data?null:s.data.giftBatches)}},dependencies:[p.Sq,p.bT,T.Wk,i.CP,i.SO,i._4,i.IL,i.aj,i.kt,g.aO,d.c,f.p,y.Dn,C.WB,C.zR,C.ov,p.Jj,p.oe,p.vh,S.D9],encapsulation:2})}return e})();var B=a(467),L=a(8204),E=a(4843),N=a(5699),X=a(2e3),k=a(5154),M=a(2560),Q=a(3409);const w=()=>({height:100,width:500});function J(e,z){if(1&e){const n=t.RV6();t.j41(0,"nz-descriptions")(1,"nz-descriptions-item",6),t.EFF(2),t.k0s(),t.j41(3,"nz-descriptions-item",7),t.EFF(4),t.nI1(5,"currency"),t.k0s(),t.j41(6,"nz-descriptions-item",8),t.EFF(7),t.nI1(8,"date"),t.nI1(9,"date"),t.k0s(),t.j41(10,"nz-descriptions-item",9)(11,"div",10),t.bIt("nzChartInitialized",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.onChartPayoutMethodsInit(o))}),t.k0s()()()}if(2&e){const n=z.ngIf;t.R7$(2),t.JRh(n.name),t.R7$(2),t.JRh(t.i5U(5,4,n.amount,n.currency)),t.R7$(3),t.JRh(t.i5U(8,7,n.availableFrom,"mediumDate")+" - "+t.i5U(9,10,n.expireAt,"mediumDate")),t.R7$(4),t.Y8G("nzChartOptions",t.lJ4(13,w))}}function K(e,z){if(1&e&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Lme(" Used by ",null==n.driverTransaction.driver?null:n.driverTransaction.driver.firstName," ",null==n.driverTransaction.driver?null:n.driverTransaction.driver.lastName," ")}}function H(e,z){if(1&e&&(t.j41(0,"div",18),t.EFF(1),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Lme(" Used by ",n.riderTransaction.rider.firstName," ",n.riderTransaction.rider.lastName," ")}}function W(e,z){if(1&e&&(t.j41(0,"div"),t.DNE(1,K,2,2,"div",16)(2,H,2,2,"div",16),t.j41(3,"div",17),t.nI1(4,"date"),t.EFF(5),t.nI1(6,"timeago"),t.k0s()()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null!=n.driverTransaction),t.R7$(),t.Y8G("ngIf",null!=n.riderTransaction),t.R7$(),t.Y8G("nz-tooltip",t.i5U(4,4,n.usedAt,"medium")),t.R7$(2),t.SpI(" at ",t.bMT(6,7,n.usedAt)," ")}}function Z(e,z){1&e&&(t.j41(0,"nz-tag",19),t.EFF(1),t.k0s()),2&e&&(t.Y8G("nzBordered",!1),t.R7$(),t.JRh("Unused"))}function q(e,z){if(1&e&&(t.j41(0,"tr",14)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.DNE(4,W,7,9,"div",4)(5,Z,2,2,"nz-tag",15),t.k0s()()),2&e){const n=z.$implicit;t.Y8G("routerLink",null!=(null==n.riderTransaction?null:n.riderTransaction.riderId)?"/riders/view/"+(null==n.riderTransaction?null:n.riderTransaction.riderId):null!=n.driverTransaction?"/drivers/view/"+n.driverTransaction.driverId:null),t.R7$(2),t.JRh(n.code),t.R7$(2),t.Y8G("ngIf",null!=n.usedAt),t.R7$(),t.Y8G("ngIf",null==n.usedAt)}}function tt(e,z){if(1&e){const n=t.RV6();t.j41(0,"nz-table",11,0),t.bIt("nzQueryParams",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.tableService.onTableQueryParamsChange(o))}),t.j41(2,"thead")(3,"tr")(4,"th"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,q,6,4,"tr",13),t.k0s()()}if(2&e){const n=z.ngIf,r=t.sdS(1);t.Y8G("nzFrontPagination",!1)("nzData",n.nodes)("nzTotal",n.totalCount),t.R7$(5),t.JRh(t.bMT(6,6,"profile.code")),t.R7$(3),t.JRh(t.bMT(9,8,"profile.status")),t.R7$(3),t.Y8G("ngForOf",r.data)}}let nt=(()=>{class e{route;message;tableService;tagColor;exportGql;$viewGiftCaster=e=>e;$giftListCaster=e=>e;usageChart;constructor(n,r,o,s,v){this.route=n,this.message=r,this.tableService=o,this.tagColor=s,this.exportGql=v}ngOnInit(){this.route.data.subscribe(n=>{console.log(n)})}onChartPayoutMethodsInit(n){this.usageChart=n,this.route.data?.subscribe(r=>{const o=r.giftBatch;this.usageChart.data([{name:"Used",count:o.data?.giftBatch.totalUsed[0].count?.id??0},{name:"Unused",count:o.data?.giftBatch.totalUnused[0].count?.id??0}]).interval().position("count").color("name").adjust("stack"),this.usageChart.coordinate("rect").transpose(),this.usageChart.render()})}exportToCsv(){var n=this;return(0,B.A)(function*(){try{const r=yield(0,E._)(n.exportGql.mutate({giftBatchId:n.route.snapshot.params.id}));n.tableService.downloadURI(L.c.root+r.data?.exportGiftCardBatch,`export-${(new Date).getTime()}.csv`)}catch{n.message.error("Export failed")}})()}static \u0275fac=function(r){return new(r||e)(t.rXU(c.nX),t.rXU(R.xh),t.rXU(h.a),t.rXU(u.t),t.rXU(G._Lk))};static \u0275cmp=t.VBU({type:e,selectors:[["app-gift-batch-view"]],standalone:!1,decls:11,vars:7,consts:[["table",""],["nzBackIcon","","nzTitle","Gift Batch","nzSubtitle","View and export a batch of gift cards",3,"nzGhost"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","download"],[4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzTitle","Name"],["nzTitle","Amount"],["nzTitle","Availability Date Range"],["nzTitle","Batch usage"],["nz-g2","",3,"nzChartInitialized","nzChartOptions"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["nzShowSort","","nzColumnKey","usedAt"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],["nzColor","error",3,"nzBordered",4,"ngIf"],["class","table-first-line",4,"ngIf"],[1,"table-second-line",3,"nz-tooltip"],[1,"table-first-line"],["nzColor","error",3,"nzBordered"]],template:function(r,o){if(1&r&&(t.j41(0,"nz-page-header",1)(1,"nz-page-header-extra")(2,"nz-button-group")(3,"button",2),t.bIt("click",function(){return o.exportToCsv()}),t.nrm(4,"i",3),t.EFF(5,"Export to CSV"),t.k0s()()(),t.j41(6,"nz-page-header-content"),t.DNE(7,J,12,14,"nz-descriptions",4),t.nI1(8,"async"),t.DNE(9,tt,12,10,"nz-table",5),t.nI1(10,"async"),t.k0s()()),2&r){let s,v;t.Y8G("nzGhost",!1),t.R7$(7),t.Y8G("ngIf",o.$viewGiftCaster(null==(s=t.bMT(8,3,o.route.data))?null:s.giftBatch).data.giftBatch),t.R7$(2),t.Y8G("ngIf",o.$giftListCaster(null==(v=t.bMT(10,5,o.route.data))?null:v.codeList).data.giftBatch.giftCodes)}},dependencies:[p.Sq,p.bT,T.Wk,i.CP,i.Cc,i.SO,i._4,i.IL,i.aj,i.kt,g.aO,g.dn,d.c,f.p,y.Dn,N.s,C.WB,C.zR,C.ov,X.xA,X.gr,k.LH,M.j,p.Jj,p.oe,p.vh,S.D9,Q.PZ],styles:["nz-input-number[_ngcontent-%COMP%]{width:100%}"]})}return e})();var b=a(9417),et=a(6195),rt=a(712),at=a(1011),V=a(7529),j=a(8927),D=a(1997),x=a(8960),ot=a(5703),it=a(2047),st=a(1166);const lt=e=>[e];function ct(e,z){if(1&e&&t.nrm(0,"nz-option",20),2&e){const n=z.$implicit;t.Y8G("nzLabel",n)("nzValue",n)}}function ut(e,z){if(1&e){const n=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onSubmit())}),t.EFF(1,"Submit"),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("disabled",n.form.invalid)}}let dt=(()=>{class e{route;message;fb;routerHelper;createGQL;form;currencies=et.P;constructor(n,r,o,s,v){this.route=n,this.message=r,this.fb=o,this.routerHelper=s,this.createGQL=v}ngOnInit(){this.route.data.subscribe(n=>{null!=n.coupon&&(n.coupon.data.coupon.dates=[n.coupon.data.coupon.startAt,n.coupon.data.coupon.expireAt],this.form.patchValue(n.coupon.data.coupon))}),this.form=this.fb.group({id:[null],name:[null,b.k0.required],currency:[null,b.k0.required],amount:[0,b.k0.required],quantity:[0,b.k0.required],dates:[null]})}onSubmit(){var n=this;return(0,B.A)(function*(){const{id:r,dates:o,...s}=n.form.value,v=o[0].getTime(),bt=o[1].getTime(),Gt={...s};try{yield(0,E._)(n.createGQL.mutate({input:{...Gt,availableFrom:v,expireAt:bt}})),n.routerHelper.goToParent(n.route)}catch(Tt){n.message.error(Tt.message)}})()}static \u0275fac=function(r){return new(r||e)(t.rXU(c.nX),t.rXU(R.xh),t.rXU(b.ze),t.rXU(rt.T),t.rXU(G.dRN))};static \u0275cmp=t.VBU({type:e,selectors:[["app-gift-batch-new"]],standalone:!1,decls:32,vars:34,consts:[["tmplActions",""],["nzBackIcon","","nzTitle","New Gift Card Batch","nzSubtitle","Create and export a batch of gift cards",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nzErrorTip","Invalid name",3,"nzSm","nzXs"],["nz-input","","formControlName","name","id","name"],["nzRequired","","nzFor","description",3,"nzSm","nzXs"],["nzErrorTip","Invalid currency",3,"nzSm","nzXs"],["formControlName","currency","id","currency"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzRequired","","nzFor","amount",3,"nzSm","nzXs"],["nzErrorTip","Invalid amount",3,"nzSm","nzXs"],["formControlName","amount","id","amount",3,"nzMin","nzMax","nzStep"],["nzRequired","","nzFor","dates",3,"nzSm","nzXs"],["nzErrorTip","Invalid date",3,"nzSm","nzXs"],["formControlName","dates","id","dates"],["nzRequired","","nzFor","quantity",3,"nzSm","nzXs"],["nzErrorTip","Invalid quantity",3,"nzSm","nzXs"],["formControlName","quantity","id","quantity",3,"nzMin","nzMax","nzStep"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary",3,"click","disabled"]],template:function(r,o){if(1&r){const s=t.RV6();t.nrm(0,"nz-page-header",1),t.j41(1,"nz-card",2)(2,"form",3),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(o.onSubmit())}),t.j41(3,"nz-form-item")(4,"nz-form-label",4),t.EFF(5,"Name"),t.k0s(),t.j41(6,"nz-form-control",5),t.nrm(7,"input",6),t.k0s()(),t.j41(8,"nz-form-item")(9,"nz-form-label",7),t.EFF(10,"Currency"),t.k0s(),t.j41(11,"nz-form-control",8)(12,"nz-select",9),t.DNE(13,ct,1,2,"nz-option",10),t.nI1(14,"async"),t.k0s()()(),t.j41(15,"nz-form-item")(16,"nz-form-label",11),t.EFF(17,"Amount"),t.k0s(),t.j41(18,"nz-form-control",12),t.nrm(19,"nz-input-number",13),t.k0s()(),t.j41(20,"nz-form-item")(21,"nz-form-label",14),t.EFF(22,"Availability Date"),t.k0s(),t.j41(23,"nz-form-control",15),t.nrm(24,"nz-range-picker",16),t.k0s()(),t.j41(25,"nz-form-item")(26,"nz-form-label",17),t.EFF(27,"Quantity"),t.k0s(),t.j41(28,"nz-form-control",18),t.nrm(29,"nz-slider",19),t.k0s()(),t.DNE(30,ut,2,1,"ng-template",null,0,t.C5r),t.k0s()()}if(2&r){let s;const v=t.sdS(31);t.Y8G("nzGhost",!1),t.R7$(),t.Y8G("nzActions",t.eq3(32,lt,v)),t.R7$(),t.Y8G("formGroup",o.form),t.R7$(2),t.Y8G("nzSm",6)("nzXs",24),t.R7$(2),t.Y8G("nzSm",14)("nzXs",24),t.R7$(3),t.Y8G("nzSm",6)("nzXs",24),t.R7$(2),t.Y8G("nzSm",14)("nzXs",24),t.R7$(2),t.Y8G("ngForOf",null==(s=t.bMT(14,30,o.route.data))?null:s.query),t.R7$(3),t.Y8G("nzSm",6)("nzXs",24),t.R7$(2),t.Y8G("nzSm",14)("nzXs",24),t.R7$(),t.Y8G("nzMin",0)("nzMax",1e6)("nzStep",1),t.R7$(2),t.Y8G("nzSm",6)("nzXs",24),t.R7$(2),t.Y8G("nzSm",14)("nzXs",24),t.R7$(3),t.Y8G("nzSm",6)("nzXs",24),t.R7$(2),t.Y8G("nzSm",14)("nzXs",24),t.R7$(),t.Y8G("nzMin",1)("nzMax",1e3)("nzStep",1)}},dependencies:[p.Sq,b.qT,b.me,b.BC,b.cb,b.j4,b.JD,at.Sy,g.aO,d.c,f.p,V.Uq,V.e,j.CA,j.Ls,j.Mo,j.zS,D.ld,D.WI,x.SN,x.vw,C.WB,ot.cK,it.F,st.pT,p.Jj],encapsulation:2})}return e})();var mt=a(9974),A=a(4360),ft=a(5343),zt=a(8750);let O=(()=>{class e{gql;constructor(n){this.gql=n}resolve(n,r){return this.gql.fetch().pipe((0,m.T)(o=>o.data.regions.nodes.map(s=>s.currency)),function pt(e,z){return(0,mt.N)((n,r)=>{const o=new Set;n.subscribe((0,A._)(r,s=>{const v=e?e(s):s;o.has(v)||(o.add(v),r.next(s))})),z&&(0,zt.Tg)(z).subscribe((0,A._)(r,()=>o.clear(),ft.l))})}())}static \u0275fac=function(r){return new(r||e)(t.KVO(G.Rp1))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();const gt=[{path:"",component:Y,resolve:{giftBatches:l},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"new",component:dt,resolve:{query:O}},{path:"view/:id",component:nt,runGuardsAndResolvers:"paramsOrQueryParamsChange",resolve:{giftBatch:I,codeList:(e,z)=>{const n=(0,t.WQX)(h.a).deserializeQueryParams(e.queryParams);return(0,t.WQX)(G.IAm).fetch({giftBatchId:e.params.id,paging:n.paging})}}}];let ht=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({providers:[l,I,O],imports:[T.iI.forChild(gt),T.iI]})}return e})();var vt=a(5885);let yt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[p.MD,ht,vt.G]})}return e})()},6807:(U,F,a)=>{a.d(F,{a:()=>G});var p=a(1360),T=a(2209);let G=(()=>{class h{router;route;constructor(l,u){this.router=l,this.route=u}serializeQueryParams(l,u){const m={};if(m.pageIndex=l.pageIndex,m.pageSize=l.pageSize,null!=l.filter){const c=l.filter.filter(i=>null!=i.value&&i.value.length>0).map(i=>`${i.key}|${Array.isArray(i.value)?"in":"eq"}|${Array.isArray(i.value)?i.value.join("-"):i.value}`);null!=u.filter&&c.push(...u.filter.split(",")),m.filter=c.length>0?c.join(","):void 0}if(null!=l.sort&&l.sort.length>0){const c=l.sort.filter(i=>null!=i.value).map(i=>`${i.key}|${"ascend"==i.value?"ASC":"DESC"}`);null!=u.sort&&c.push(...u.sort.split(",")),m.sort=c.length>0?c.join(","):void 0}return m}onTableQueryParamsChange(l){const u=this.serializeQueryParams(l,this.route.snapshot.queryParams);this.router.navigate([],{relativeTo:this.route,queryParams:u,queryParamsHandling:"merge"})}filterText(l,u){const c=this.deserializeQueryParams(this.route).filter??{};c[l]=null!=u?{like:u}:{};const i=Object.keys(c).map(d=>{if(Object.keys(c[d]).length<1)return null;const f=Object.keys(c[d])[0];return`${d}|${f}|${"in"==f?c[d][f].join("-"):c[d][f]}`}).filter(d=>null!=d),g=i.length>0?i.join(","):void 0;this.router.navigate([],{relativeTo:this.route,queryParams:{filter:g},queryParamsHandling:"merge"})}filterRange(l,u){const c=this.deserializeQueryParams(this.route).filter??{};c[l]=null!=u?{between:u}:{};const i=Object.keys(c).map(d=>{if(Object.keys(c[d]).length<1)return null;const f=Object.keys(c[d])[0];return`${d}|${f}|${"in"==f||"between"==f?c[d][f].join("-"):c[d][f]}`}).filter(d=>null!=d),g=i.length>0?i.join(","):void 0;this.router.navigate([],{relativeTo:this.route,queryParams:{filter:g},queryParamsHandling:"merge"})}resetFilter(l,u){this.filterText(l,void 0),u.value=""}downloadURI(l,u){const m=document.createElement("a");m.download=u,m.href=l,m.target="_blank",document.body.appendChild(m),m.click(),document.body.removeChild(m)}deserializeQueryParams(l){const u=l.sort?l.sort.split(",").map(g=>({field:g.split("|")[0],direction:g.split("|")[1]})):[],m={};null!=l.filter&&l.filter.split(",").forEach(g=>{const d={},f=g.split("|")[1];if("in"==f){const y=g.split("|")[2].split("-");d[f]=y}else if("between"==f){const y=g.split("|")[2].split("-");d[f]={lower:y[0],upper:y[1]}}else d[f]=g.split("|")[2];m[g.split("|")[0]]=d});const c=null!=l.pageIndex?parseInt(l.pageIndex):1,i=null!=l.pageSize?parseInt(l.pageSize):10;return{sorting:u.length>0?u:void 0,paging:{offset:(c-1)*i,limit:i},filter:null!=m&&Object.keys(m).length>0?m:void 0}}static \u0275fac=function(u){return new(u||h)(p.KVO(T.Ix),p.KVO(T.nX))};static \u0275prov=p.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);