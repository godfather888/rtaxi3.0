"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[98],{7098:(W,f,a)=>{a.r(f),a.d(f,{ComplaintViewModule:()=>Q});var i=a(8434),d=a(7624),C=a(467),u=a(3241),g=a(2067),F=a(6354),$=a(4843),h=a(9933),t=a(1360),z=a(2209),S=a(712),j=a(7094),R=a(1868),T=a(2602),M=a(513),b=a(6389),G=a(5930),y=a(1951),c=a(6057),E=a(5699),p=a(3062),m=a(2e3),k=a(5703),v=a(8018);function V(e,l){1&e&&(t.j41(0,"a",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,1,"profile.details")))}function U(e,l){if(1&e){const n=t.RV6();t.j41(0,"nz-page-header")(1,"nz-page-header-title"),t.EFF(2),t.k0s(),t.j41(3,"nz-page-header-tags")(4,"nz-tag",2),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"nz-page-header-content")(8,"div",3)(9,"div",4)(10,"nz-descriptions")(11,"nz-descriptions-item",5),t.nI1(12,"translate"),t.EFF(13),t.nI1(14,"date"),t.k0s(),t.j41(15,"nz-descriptions-item",5),t.nI1(16,"translate"),t.EFF(17),t.k0s()()()()(),t.j41(18,"nz-page-header-extra")(19,"button",6),t.EFF(20),t.nI1(21,"translate"),t.nrm(22,"i",7),t.k0s(),t.j41(23,"nz-dropdown-menu",null,0)(25,"ul",8)(26,"li",9),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.updateStatus(o.complaintStatus.Resolved))}),t.EFF(27,"Resolved"),t.k0s(),t.j41(28,"li",9),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.updateStatus(o.complaintStatus.UnderInvestigation))}),t.EFF(29,"Under Investigation"),t.k0s()()()(),t.j41(30,"nz-page-header-footer")(31,"nz-tabset",10)(32,"nz-tab"),t.DNE(33,V,3,3,"a",11),t.k0s()(),t.nrm(34,"router-outlet"),t.k0s()()}if(2&e){const n=l.ngIf,r=t.sdS(24),o=t.XpG();t.R7$(2),t.JRh(n.subject),t.R7$(2),t.Y8G("nzColor",o.tagColor.complaintStatus(n.status))("nzBordered",!1),t.R7$(),t.JRh(t.bMT(6,12,"enum.complaintStatus."+o.camelCase(n.status))),t.R7$(6),t.FS9("nzTitle",t.bMT(12,14,"complaint.inscriptionTime")),t.Y8G("nzSpan",1),t.R7$(2),t.SpI("",t.i5U(14,16,n.inscriptionTimestamp,"short")," "),t.R7$(2),t.FS9("nzTitle",t.bMT(16,19,"complaint.content")),t.Y8G("nzSpan",2),t.R7$(2),t.JRh(n.content),t.R7$(2),t.Y8G("nzDropdownMenu",r),t.R7$(),t.SpI(" ",t.bMT(21,21,"driver.profile.changeStatus")," ")}}let w=(()=>{class e{route;tagColor;updateGql;routerHelper;msg;query;camelCase=h.xQ;complaintStatus=u.ywf;constructor(n,r,o,s,H){this.route=n,this.tagColor=r,this.updateGql=o,this.routerHelper=s,this.msg=H}ngOnInit(){this.query=this.route.data.pipe((0,F.T)(n=>n.complaint))}updateStatus(n){var r=this;return(0,C.A)(function*(){yield(0,$._)(r.updateGql.mutate({id:r.route.snapshot.params.id,status:n})),r.routerHelper.refresh(r.route),r.msg.success("Updated!")})()}static \u0275fac=function(r){return new(r||e)(t.rXU(z.nX),t.rXU(g.t),t.rXU(u.dQT),t.rXU(S.T),t.rXU(j.xh))};static \u0275cmp=t.VBU({type:e,selectors:[["app-complaint-view"]],standalone:!1,decls:3,vars:3,consts:[["menu4","nzDropdownMenu"],[4,"ngIf"],[3,"nzColor","nzBordered"],[1,"content"],[1,"main"],[3,"nzTitle","nzSpan"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-item","",3,"click"],["nzLinkRouter","",1,"mb-2"],["nz-tab-link","","routerLink","info",4,"nzTabLink"],["nz-tab-link","","routerLink","info"]],template:function(r,o){if(1&r&&(t.j41(0,"nz-card"),t.DNE(1,U,35,23,"nz-page-header",1),t.nI1(2,"async"),t.k0s()),2&r){let s;t.R7$(),t.Y8G("ngIf",null==(s=t.bMT(2,1,o.query))||null==s.data?null:s.data.complaint)}},dependencies:[i.bT,z.n3,d.Wk,R.jS,R.CU,T.j3,T.wQ,T.h4,M.aO,b.c,G.p,y.Dn,c.JZ,c.rE,c.v3,c.rM,E.s,p.WB,p.k9,p.zR,p.cC,p.ov,p.F0,m.xA,m.gr,k.cK,i.Jj,i.vh,v.D9],encapsulation:2})}return e})();var x=a(3146),J=a(314);function Y(e,l){if(1&e&&(t.j41(0,"nz-descriptions",1),t.nI1(1,"translate"),t.j41(2,"nz-descriptions-item",2),t.nI1(3,"translate"),t.EFF(4),t.k0s(),t.j41(5,"nz-descriptions-item",2),t.nI1(6,"translate"),t.EFF(7),t.nI1(8,"phone"),t.k0s(),t.j41(9,"nz-descriptions-item",2),t.nI1(10,"translate"),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"nz-descriptions-item",3),t.nI1(14,"translate"),t.nrm(15,"nz-badge",4),t.nI1(16,"translate"),t.k0s(),t.j41(17,"nz-descriptions-item",2),t.nI1(18,"translate"),t.j41(19,"a",5),t.EFF(20,"View"),t.k0s()()()),2&e){const n=l.ngIf,r=t.XpG().ngIf,o=t.XpG();t.FS9("nzTitle",t.bMT(1,14,"profile.driverInfo")+(r.requestedByDriver?" (Sender)":"")),t.R7$(2),t.FS9("nzTitle",t.bMT(3,16,"profile.name")),t.R7$(2),t.Lme("",n.firstName," ",n.lastName,""),t.R7$(),t.FS9("nzTitle",t.bMT(6,18,"profile.mobileNumber")),t.R7$(2),t.JRh(t.bMT(8,20,n.mobileNumber.toString())),t.R7$(2),t.FS9("nzTitle",t.bMT(10,22,"profile.registeredOn")),t.R7$(2),t.JRh(t.i5U(12,24,n.registrationTimestamp,"short")),t.R7$(2),t.FS9("nzTitle",t.bMT(14,27,"profile.status")),t.Y8G("nzSpan",2),t.R7$(2),t.Y8G("nzStatus",o.tagColor.driver(n.status))("nzText",t.bMT(16,29,"enum.driver.status."+o.camelCase(n.status))),t.R7$(2),t.FS9("nzTitle",t.bMT(18,31,"profile.view")),t.R7$(2),t.Y8G("routerLink","/../drivers/view/"+n.id)}}function X(e,l){if(1&e&&(t.j41(0,"nz-descriptions",1),t.nI1(1,"translate"),t.j41(2,"nz-descriptions-item",2),t.nI1(3,"translate"),t.EFF(4),t.k0s(),t.j41(5,"nz-descriptions-item",2),t.nI1(6,"translate"),t.EFF(7),t.nI1(8,"phone"),t.k0s(),t.j41(9,"nz-descriptions-item",2),t.nI1(10,"translate"),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"nz-descriptions-item",3),t.nI1(14,"translate"),t.nrm(15,"nz-badge",4),t.nI1(16,"translate"),t.k0s(),t.j41(17,"nz-descriptions-item",2),t.nI1(18,"translate"),t.j41(19,"a",5),t.EFF(20),t.nI1(21,"translate"),t.k0s()()()),2&e){const n=l.ngIf,r=t.XpG().ngIf,o=t.XpG();t.FS9("nzTitle",t.bMT(1,15,"profile.riderInfo")+(r.requestedByDriver?"":" (Sender)")),t.R7$(2),t.FS9("nzTitle",t.bMT(3,17,"profile.name")),t.R7$(2),t.Lme("",n.firstName," ",n.lastName,""),t.R7$(),t.FS9("nzTitle",t.bMT(6,19,"profile.mobileNumber")),t.R7$(2),t.JRh(t.bMT(8,21,n.mobileNumber)),t.R7$(2),t.FS9("nzTitle",t.bMT(10,23,"profile.registeredOn")),t.R7$(2),t.JRh(null!==n.registrationTimestamp?t.i5U(12,25,n.registrationTimestamp,"short"):"-"),t.R7$(2),t.FS9("nzTitle",t.bMT(14,28,"profile.status")),t.Y8G("nzSpan",2),t.R7$(2),t.Y8G("nzStatus",o.tagColor.rider(n.status))("nzText",t.bMT(16,30,"enum.rider.status."+n.status.toLowerCase())),t.R7$(2),t.FS9("nzTitle",t.bMT(18,32,"profile.view")),t.R7$(2),t.Y8G("routerLink","/../riders/view/"+n.id),t.R7$(),t.JRh(t.bMT(21,34,"profile.view"))}}function B(e,l){if(1&e&&(t.j41(0,"div")(1,"nz-descriptions",1),t.nI1(2,"translate"),t.j41(3,"nz-descriptions-item",2),t.nI1(4,"translate"),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"nz-descriptions-item",2),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"date"),t.k0s(),t.j41(11,"nz-descriptions-item",2),t.nI1(12,"translate"),t.EFF(13),t.nI1(14,"date"),t.k0s(),t.j41(15,"nz-descriptions-item",2),t.nI1(16,"translate"),t.EFF(17),t.nI1(18,"currency"),t.k0s(),t.j41(19,"nz-descriptions-item",2),t.nI1(20,"translate"),t.EFF(21),t.nI1(22,"currency"),t.k0s(),t.j41(23,"nz-descriptions-item",3),t.nI1(24,"translate"),t.nrm(25,"nz-badge",4),t.nI1(26,"translate"),t.k0s(),t.j41(27,"nz-descriptions-item",3),t.nI1(28,"translate"),t.EFF(29),t.k0s(),t.j41(30,"nz-descriptions-item",2),t.nI1(31,"translate"),t.j41(32,"a",5),t.EFF(33),t.nI1(34,"translate"),t.k0s()()(),t.DNE(35,Y,21,33,"nz-descriptions",6)(36,X,22,36,"nz-descriptions",6),t.k0s()),2&e){const n=l.ngIf,r=t.XpG();t.R7$(),t.FS9("nzTitle",t.bMT(2,23,"profile.requestInfo")),t.R7$(2),t.FS9("nzTitle",t.bMT(4,25,"requests.expectedTime")),t.R7$(2),t.JRh(null!==n.order.expectedTimestamp?t.i5U(6,27,n.order.expectedTimestamp,"short"):"-"),t.R7$(2),t.FS9("nzTitle",t.bMT(8,30,"requests.startTime")),t.R7$(2),t.JRh(null!==n.order.startTimestamp?t.i5U(10,32,n.order.startTimestamp,"short"):"-"),t.R7$(2),t.FS9("nzTitle",t.bMT(12,35,"requests.finishTime")),t.R7$(2),t.JRh(null!==n.order.finishTimestamp?t.i5U(14,37,n.order.finishTimestamp,"short"):"-"),t.R7$(2),t.FS9("nzTitle",t.bMT(16,40,"requests.costAfterCoupon")),t.R7$(2),t.JRh(t.i5U(18,42,n.order.costAfterCoupon,n.order.currency)),t.R7$(2),t.FS9("nzTitle",t.bMT(20,45,"requests.estimatedCost")),t.R7$(2),t.JRh(t.i5U(22,47,n.order.costBest,n.order.currency)),t.R7$(2),t.FS9("nzTitle",t.bMT(24,50,"profile.status")),t.Y8G("nzSpan",2),t.R7$(2),t.Y8G("nzStatus",r.tagColor.orderStatus(n.order.status))("nzText",t.bMT(26,52,"enum.request."+n.order.status)),t.R7$(2),t.FS9("nzTitle",t.bMT(28,54,"profile.locations")),t.Y8G("nzSpan",3),t.R7$(2),t.SpI(" ",n.order.addresses.join(" -> ")," "),t.R7$(),t.FS9("nzTitle",t.bMT(31,56,"profile.view")),t.R7$(2),t.Y8G("routerLink","/../requests/view/"+n.order.id),t.R7$(),t.JRh(t.bMT(34,58,"profile.view")),t.R7$(2),t.Y8G("ngIf",n.order.driver),t.R7$(),t.Y8G("ngIf",n.order.rider)}}let N=(()=>{class e{route;tagColor;query;camelCase=h.xQ;constructor(n,r){this.route=n,this.tagColor=r}ngOnInit(){this.query=this.route.parent?.data.pipe((0,F.T)(n=>n.complaint))}static \u0275fac=function(r){return new(r||e)(t.rXU(z.nX),t.rXU(g.t))};static \u0275cmp=t.VBU({type:e,selectors:[["app-complaint-view-info"]],standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],["nzBordered","",1,"mt-2",3,"nzTitle"],[3,"nzTitle"],[3,"nzTitle","nzSpan"],[3,"nzStatus","nzText"],[3,"routerLink"],["nzBordered","","class","mt-2",3,"nzTitle",4,"ngIf"]],template:function(r,o){if(1&r&&(t.DNE(0,B,37,60,"div",0),t.nI1(1,"async")),2&r){let s;t.Y8G("ngIf",null==(s=t.bMT(1,1,o.query))||null==s.data?null:s.data.complaint)}},dependencies:[i.bT,d.Wk,m.xA,m.gr,x.dz,i.Jj,i.oe,i.vh,J.X,v.D9],encapsulation:2})}return e})(),D=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-complaint-view-records"]],standalone:!1,decls:2,vars:0,template:function(r,o){1&r&&(t.j41(0,"p"),t.EFF(1,"complaint-view-records works!"),t.k0s())},encapsulation:2})}return e})(),I=(()=>{class e{gql;constructor(n){this.gql=n}resolve(n,r){return this.gql.fetch({id:n.params.id})}static \u0275fac=function(r){return new(r||e)(t.KVO(u.Nnj))};static \u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();const L=[{path:"",component:w,resolve:{complaint:I},runGuardsAndResolvers:"paramsOrQueryParamsChange",children:[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:N},{path:"records",component:D}]}];let A=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({providers:[I],imports:[d.iI.forChild(L),d.iI]})}return e})();var O=a(5885);let Q=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[i.MD,A,O.G]})}return e})()}}]);