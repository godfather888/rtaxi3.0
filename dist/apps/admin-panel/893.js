"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[893],{9893:(B,f,e)=>{e.r(f),e.d(f,{UserViewModule:()=>S});var u=e(7624),c=e(3241),t=e(1360);let z=(()=>{class n{gql;constructor(r){this.gql=r}resolve(r,o){return this.gql.fetch({id:r.params.id})}static \u0275fac=function(o){return new(o||n)(t.KVO(c.wdz))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();var F=e(467),a=e(9417),N=e(6354),b=e(4843),d=e(2209),y=e(7094),p=e(8434),C=e(1011),U=e(513),j=e(6389),T=e(5930),v=e(7529),l=e(8927),g=e(1997);function V(n,h){if(1&n&&t.nrm(0,"nz-option",21),2&n){const r=h.$implicit;t.Y8G("nzValue",r.id)("nzLabel",r.title)}}let E=(()=>{class n{route;updateGQL;router;fb;msg;query;form;constructor(r,o,i,s,M){this.route=r,this.updateGQL=o,this.router=i,this.fb=s,this.msg=M,this.form=this.fb.group({id:[null,a.k0.required],firstName:[null,a.k0.required],lastName:[null,a.k0.required],userName:[null,a.k0.required],email:[null],roleId:[null,a.k0.required],mobileNumber:[null,a.k0.required]})}ngOnInit(){this.route.parent?.data.subscribe(r=>this.form.patchValue(r.operator.data.operator)),this.query=this.route.parent?.data.pipe((0,N.T)(r=>r.operator))}onSubmit(){var r=this;return(0,F.A)(function*(){const{id:o,...i}=r.form.value;yield(0,b._)(r.updateGQL.mutate({id:o,update:i})),r.msg.success("Done!"),r.router.navigateByUrl("/management/users")})()}static \u0275fac=function(o){return new(o||n)(t.rXU(d.nX),t.rXU(c.EPm),t.rXU(d.Ix),t.rXU(a.ze),t.rXU(y.xh))};static \u0275cmp=t.VBU({type:n,selectors:[["app-user-view-details"]],standalone:!1,decls:37,vars:6,consts:[["nz-form","",3,"ngSubmit","nzLayout","formGroup"],["formControlName","id","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-3","lg:gap-2"],["nzRequired","","nzFor","firstName"],["nzErrorTip","The input is not valid First Name"],["nz-input","","required","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName"],["nzErrorTip","The input is not valid Last Name"],["nz-input","","required","","formControlName","lastName","id","lastName"],["nzRequired","","nzFor","roleId"],["nzErrorTip","Role is not selected"],["required","","formControlName","roleId"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzRequired","","nzFor","userName"],["nzErrorTip","The input is not valid User Name"],["nz-input","","required","","formControlName","userName","id","userName"],["nzFor","email"],["nz-input","","formControlName","email","id","email"],["nzRequired","","nzFor","mobileNumber"],["formControlName","mobileNumber","id","'mobileNumber","nz-input",""],["nz-button","","nzType","primary","type","submit",1,"float-right",3,"disabled"],[3,"nzValue","nzLabel"]],template:function(o,i){if(1&o&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.nrm(1,"input",1),t.j41(2,"div",2)(3,"nz-form-item")(4,"nz-form-label",3),t.EFF(5,"First Name"),t.k0s(),t.j41(6,"nz-form-control",4),t.nrm(7,"input",5),t.k0s()(),t.j41(8,"nz-form-item")(9,"nz-form-label",6),t.EFF(10,"Last Name"),t.k0s(),t.j41(11,"nz-form-control",7),t.nrm(12,"input",8),t.k0s()(),t.j41(13,"nz-form-item")(14,"nz-form-label",9),t.EFF(15,"Role"),t.k0s(),t.j41(16,"nz-form-control",10)(17,"nz-select",11),t.DNE(18,V,1,2,"nz-option",12),t.nI1(19,"async"),t.k0s()()(),t.j41(20,"nz-form-item")(21,"nz-form-label",13),t.EFF(22,"User Name"),t.k0s(),t.j41(23,"nz-form-control",14),t.nrm(24,"input",15),t.k0s()(),t.j41(25,"nz-form-item")(26,"nz-form-label",16),t.EFF(27,"Email"),t.k0s(),t.j41(28,"nz-form-control"),t.nrm(29,"input",17),t.k0s()(),t.j41(30,"nz-form-item")(31,"nz-form-label",18),t.EFF(32,"Mobile Number"),t.k0s(),t.j41(33,"nz-form-control"),t.nrm(34,"input",19),t.k0s()()(),t.j41(35,"button",20),t.EFF(36,"Save"),t.k0s()()),2&o){let s;t.Y8G("nzLayout","vertical")("formGroup",i.form),t.R7$(18),t.Y8G("ngForOf",null==(s=t.bMT(19,4,i.query))||null==s.data?null:s.data.operatorRoles),t.R7$(17),t.Y8G("disabled",i.form.invalid)}},dependencies:[p.Sq,a.qT,a.me,a.BC,a.cb,a.YS,a.j4,a.JD,C.Sy,U.aO,j.c,T.p,v.Uq,v.e,l.CA,l.Ls,l.Mo,l.zS,g.ld,g.WI,p.Jj],encapsulation:2})}return n})();var m=e(6057),L=e(5703),R=e(8018);function k(n,h){1&n&&(t.j41(0,"a",2),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"users.tab.details")))}const G=[{path:"",component:(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=t.VBU({type:n,selectors:[["app-user-view"]],standalone:!1,decls:5,vars:0,consts:[["nzLinkRouter",""],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","details"]],template:function(o,i){1&o&&(t.j41(0,"nz-card")(1,"nz-tabset",0)(2,"nz-tab"),t.DNE(3,k,3,3,"a",1),t.k0s()(),t.nrm(4,"router-outlet"),t.k0s())},dependencies:[m.JZ,m.rE,m.v3,m.rM,L.cK,d.n3,u.Wk,R.D9],encapsulation:2})}return n})(),resolve:{operator:z},children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:E}]}];let I=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({providers:[z],imports:[u.iI.forChild(G),u.iI]})}return n})();var D=e(5885);let S=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[D.G,I]})}return n})()}}]);