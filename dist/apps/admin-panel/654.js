"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[654],{9654:(nn,g,r)=>{r.r(g),r.d(g,{RidersModule:()=>_});var G=r(5885),f=r(7624),I=r(467),i=r(9417),h=r(3241),y=r(4843),$=r(9923),n=r(1360),X=r(7094),L=r(712),R=r(2209),z=r(8434),b=r(1011),v=r(513),N=r(6389),F=r(5930),S=r(7529),c=r(8927),T=r(1997),p=r(3062),B=r(5703);const Y=e=>[e];function M(e,u){if(1&e&&n.nrm(0,"nz-option",21),2&e){const t=u.$implicit;n.Y8G("nzLabel",t.name+" ("+t.dial_code+")")("nzValue",t.dial_code)}}function E(e,u){if(1&e&&(n.j41(0,"nz-select",19),n.DNE(1,M,1,2,"nz-option",20),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.countryCodes)}}function V(e,u){if(1&e){const t=n.RV6();n.j41(0,"button",22),n.bIt("click",function(){n.eBV(t);const a=n.XpG();return n.Njj(a.submitForm())}),n.EFF(1,"Register"),n.k0s()}if(2&e){const t=n.XpG();n.Y8G("disabled",t.form.invalid)}}let k=(()=>{class e{fb;createRiderGQL;messageService;routerHelper;route;form;countryCodes=$.o;constructor(t,o,a,l,s){this.fb=t,this.createRiderGQL=o,this.messageService=a,this.routerHelper=l,this.route=s,this.form=this.fb.group({firstName:[null],lastName:[null],phoneNumberPrefix:["+1",i.k0.required],phoneNumber:[null,i.k0.required],gender:[null]})}submitForm(){var t=this;return(0,I.A)(function*(){const{phoneNumber:o,phoneNumberPrefix:a,...l}=t.form.value;yield(0,y._)(t.createRiderGQL.mutate({input:{mobileNumber:`${a}${o}`,...l}})),t.messageService.success("Saved Successfully."),t.routerHelper.goToParent(t.route)})()}static \u0275fac=function(o){return new(o||e)(n.rXU(i.ze),n.rXU(h.B2E),n.rXU(X.xh),n.rXU(L.T),n.rXU(R.nX))};static \u0275cmp=n.VBU({type:e,selectors:[["app-rider-new"]],standalone:!1,decls:30,vars:22,consts:[["addOnBeforeTemplate",""],["tmplActions",""],["nzBackIcon","","nzTitle","New Rider","nzSubtitle","Input Rider's contact details below.",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","firstName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid First Name",3,"nzSm","nzXs"],["nz-input","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid Last Name",3,"nzSm","nzXs"],["nz-input","","formControlName","lastName","id","lastName"],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzAddOnBefore"],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzFor","gender",3,"nzSm","nzXs"],["formControlName","gender"],["nzLabel","Male","nzValue","Male"],["nzLabel","Female","nzValue","Female"],["formControlName","phoneNumberPrefix",1,"phone-select"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary",3,"click","disabled"]],template:function(o,a){if(1&o){const l=n.RV6();n.nrm(0,"nz-page-header",2),n.j41(1,"nz-card",3)(2,"form",4),n.bIt("ngSubmit",function(){return n.eBV(l),n.Njj(a.submitForm())}),n.j41(3,"nz-form-item")(4,"nz-form-label",5),n.EFF(5,"First Name"),n.k0s(),n.j41(6,"nz-form-control",6),n.nrm(7,"input",7),n.k0s()(),n.j41(8,"nz-form-item")(9,"nz-form-label",8),n.EFF(10,"Last Name"),n.k0s(),n.j41(11,"nz-form-control",9),n.nrm(12,"input",10),n.k0s()(),n.j41(13,"nz-form-item")(14,"nz-form-label",11),n.EFF(15,"Phone Number"),n.k0s(),n.j41(16,"nz-form-control",12)(17,"nz-input-group",13),n.DNE(18,E,2,1,"ng-template",null,0,n.C5r),n.nrm(20,"input",14),n.k0s()()(),n.j41(21,"nz-form-item")(22,"nz-form-label",15),n.EFF(23,"Gender"),n.k0s(),n.j41(24,"nz-form-control",12)(25,"nz-select",16),n.nrm(26,"nz-option",17)(27,"nz-option",18),n.k0s()()(),n.DNE(28,V,2,1,"ng-template",null,1,n.C5r),n.k0s()()}if(2&o){const l=n.sdS(19),s=n.sdS(29);n.Y8G("nzGhost",!1),n.R7$(),n.Y8G("nzActions",n.eq3(20,Y,s)),n.R7$(),n.Y8G("formGroup",a.form),n.R7$(2),n.Y8G("nzSm",6)("nzXs",24),n.R7$(2),n.Y8G("nzSm",14)("nzXs",24),n.R7$(3),n.Y8G("nzSm",6)("nzXs",24),n.R7$(2),n.Y8G("nzSm",14)("nzXs",24),n.R7$(3),n.Y8G("nzSm",6)("nzXs",24),n.R7$(2),n.Y8G("nzSm",14)("nzXs",24),n.R7$(),n.Y8G("nzAddOnBefore",l),n.R7$(5),n.Y8G("nzSm",6)("nzXs",24),n.R7$(2),n.Y8G("nzSm",14)("nzXs",24)}},dependencies:[z.Sq,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,b.Sy,b.tg,v.aO,N.c,F.p,S.Uq,S.e,c.CA,c.Ls,c.Mo,c.zS,T.ld,T.WI,p.WB,B.cK],encapsulation:2})}return e})();var P=r(6354),D=r(6807),j=r(8018),d=r(3359),x=r(2602),A=r(1951),O=r(5699),U=r(314),Q=r(3409);function J(e,u){1&e&&(n.j41(0,"nz-tag",26),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&e&&(n.Y8G("nzBordered",!1),n.R7$(),n.JRh(n.bMT(2,2,"enum.rider.status.blocked")))}function K(e,u){if(1&e&&(n.j41(0,"tr",21)(1,"td")(2,"div")(3,"div",22),n.EFF(4),n.DNE(5,J,3,4,"nz-tag",23),n.k0s(),n.j41(6,"div",24),n.EFF(7),n.nI1(8,"timeago"),n.k0s()()(),n.j41(9,"td")(10,"a",25),n.EFF(11),n.nI1(12,"phone"),n.k0s()()()),2&e){const t=u.$implicit,o=n.XpG(2);n.Y8G("routerLink","view/"+t.id),n.R7$(4),n.Lme(" ",t.firstName," ",t.lastName," "),n.R7$(),n.Y8G("ngIf",t.status==o.riderStatus.Disabled),n.R7$(2),n.SpI(" Registered on ",n.bMT(8,7,t.registrationTimestamp)," "),n.R7$(3),n.Y8G("href","tel:+"+t.mobileNumber,n.B4B),n.R7$(),n.JRh(n.bMT(12,9,t.mobileNumber))}}function W(e,u){if(1&e){const t=n.RV6();n.j41(0,"nz-table",15,4),n.bIt("nzQueryParams",function(a){n.eBV(t);const l=n.XpG();return n.Njj(l.tableService.onTableQueryParamsChange(a))}),n.j41(2,"thead")(3,"tr")(4,"th",16),n.EFF(5),n.nI1(6,"translate"),n.j41(7,"nz-filter-trigger",17),n.nI1(8,"async"),n.nrm(9,"i",18),n.k0s()(),n.j41(10,"th",19),n.EFF(11),n.nI1(12,"translate"),n.j41(13,"nz-filter-trigger",17),n.nI1(14,"async"),n.nrm(15,"i",18),n.k0s()()()(),n.j41(16,"tbody"),n.DNE(17,K,13,11,"tr",20),n.k0s()()}if(2&e){let t,o;const a=u.ngIf,l=n.sdS(1),s=n.XpG(),m=n.sdS(10),q=n.sdS(23);n.Y8G("nzFrontPagination",!1)("nzData",a.nodes)("nzTotal",a.totalCount),n.R7$(4),n.Y8G("nzSortFn",!0),n.R7$(),n.SpI(" ",n.bMT(6,12,"profile.name")," "),n.R7$(2),n.Y8G("nzActive",null==(t=n.bMT(8,14,s.route.queryParams))||null==t.filter?null:t.filter.includes("lastName|like|"))("nzDropdownMenu",m),n.R7$(3),n.Y8G("nzSortFn",!0),n.R7$(),n.SpI(" ",n.bMT(12,16,"profile.mobileNumber")," "),n.R7$(2),n.Y8G("nzActive",null==(o=n.bMT(14,18,s.route.queryParams))||null==o.filter?null:o.filter.includes("mobileNumber|like|"))("nzDropdownMenu",q),n.R7$(4),n.Y8G("ngForOf",l.data)}}let H=(()=>{class e{route;translate;tableService;query;riderStatus=h.vnI;constructor(t,o,a){this.route=t,this.translate=o,this.tableService=a}ngOnInit(){this.query=this.route.data.pipe((0,P.T)(t=>t.riders))}static \u0275fac=function(o){return new(o||e)(n.rXU(R.nX),n.rXU(j.c$),n.rXU(D.a))};static \u0275cmp=n.VBU({type:e,selectors:[["app-riders-list"]],standalone:!1,decls:34,vars:22,consts:[["filtername","nzDropdownMenu"],["lastNameInput",""],["filtermobile","nzDropdownMenu"],["mobileNumberInput",""],["table",""],["nzBackIcon","","nzTitle","Riders","nzSubtitle","List of all the clients registered",3,"nzGhost"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","",3,"placeholder"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["nz-input","","placeholder","Search Mobile Number"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["nzCustomFilter","","nzColumnKey","lastName",3,"nzSortFn"],[3,"nzActive","nzDropdownMenu"],["nz-icon","","nzType","search"],["nzCustomFilter","","nzColumnKey","mobileNumber",3,"nzSortFn"],["class","group cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"group","cursor-pointer",3,"routerLink"],[1,"table-first-line"],["nzColor","red",3,"nzBordered",4,"ngIf"],[1,"table-second-line"],[3,"href"],["nzColor","red",3,"nzBordered"]],template:function(o,a){if(1&o){const l=n.RV6();n.j41(0,"nz-page-header",5)(1,"nz-page-header-extra")(2,"button",6),n.nrm(3,"i",7),n.EFF(4),n.nI1(5,"translate"),n.k0s()(),n.j41(6,"nz-page-header-content"),n.DNE(7,W,18,20,"nz-table",8),n.nI1(8,"async"),n.j41(9,"nz-dropdown-menu",null,0)(11,"div",9)(12,"div",10),n.nrm(13,"input",11,1),n.nI1(15,"translate"),n.j41(16,"button",12),n.bIt("click",function(){n.eBV(l);const m=n.sdS(14);return n.Njj(a.tableService.filterText("lastName",m.value))}),n.EFF(17),n.nI1(18,"translate"),n.k0s(),n.j41(19,"button",13),n.bIt("click",function(){n.eBV(l);const m=n.sdS(14);return n.Njj(a.tableService.resetFilter("lastName",m))}),n.EFF(20),n.nI1(21,"translate"),n.k0s()()()(),n.j41(22,"nz-dropdown-menu",null,2)(24,"div",9)(25,"div",10),n.nrm(26,"input",14,3),n.j41(28,"button",12),n.bIt("click",function(){n.eBV(l);const m=n.sdS(27);return n.Njj(a.tableService.filterText("mobileNumber",m.value))}),n.EFF(29),n.nI1(30,"translate"),n.k0s(),n.j41(31,"button",13),n.bIt("click",function(){n.eBV(l);const m=n.sdS(27);return n.Njj(a.tableService.resetFilter("mobileNumber",m))}),n.EFF(32),n.nI1(33,"translate"),n.k0s()()()()()()}if(2&o){let l;n.Y8G("nzGhost",!1),n.R7$(4),n.JRh(n.bMT(5,8,"profile.add")),n.R7$(3),n.Y8G("ngIf",null==(l=n.bMT(8,10,a.query))||null==l.data?null:l.data.riders),n.R7$(6),n.FS9("placeholder",n.bMT(15,12,"profile.lastName")),n.R7$(4),n.SpI(" ",n.bMT(18,14,"profile.search")," "),n.R7$(3),n.JRh(n.bMT(21,16,"profile.reset")),n.R7$(9),n.SpI(" ",n.bMT(30,18,"profile.search")," "),n.R7$(3),n.JRh(n.bMT(33,20,"profile.reset"))}},dependencies:[f.Wk,z.Sq,z.bT,d.CP,d.Cc,d.SO,d._4,d.IL,d.aj,d.kt,d.Kg,b.Sy,x.wQ,v.aO,N.c,F.p,A.Dn,O.s,p.WB,p.zR,p.ov,z.Jj,U.X,j.D9,Q.PZ],encapsulation:2})}return e})();var C=r(8819);const Z=[{path:"",component:H,resolve:{riders:C.I},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",loadChildren:()=>r.e(494).then(r.bind(r,4113)).then(e=>e.RiderViewModule)},{path:"new",component:k}];let w=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=n.$C({type:e});static \u0275inj=n.G2t({providers:[C.I],imports:[f.iI.forChild(Z),f.iI]})}return e})(),_=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=n.$C({type:e});static \u0275inj=n.G2t({imports:[w,G.G]})}return e})()}}]);