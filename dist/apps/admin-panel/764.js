"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[764],{4764:(rn,b,o)=>{o.r(b),o.d(b,{DriversModule:()=>tn});var R=o(5885),z=o(7624),D=o(467),f=o(3241),$=o(4843),M=o(9923),n=o(1360),i=o(9417),L=o(712),h=o(2209),c=o(8434),v=o(1011),F=o(513),N=o(6389),T=o(5930),C=o(7529),d=o(8927),I=o(1997),p=o(3062),_=o(5703);const B=e=>[e];function E(e,m){if(1&e&&n.nrm(0,"nz-option",21),2&e){const t=m.$implicit;n.Y8G("nzLabel",t.name+" ("+t.dial_code+")")("nzValue",t.dial_code)}}function x(e,m){if(1&e&&(n.j41(0,"nz-select",19),n.DNE(1,E,1,2,"nz-option",20),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.Y8G("ngForOf",t.countryCodes)}}function Y(e,m){if(1&e){const t=n.RV6();n.j41(0,"button",22),n.bIt("click",function(){n.eBV(t);const a=n.XpG();return n.Njj(a.submitForm())}),n.EFF(1,"Register"),n.k0s()}if(2&e){const t=n.XpG();n.Y8G("disabled",t.form.invalid)}}let X=(()=>{class e{fb;createGQL;routerHelper;route;form;countryCodes=M.o;constructor(t,r,a,l){this.fb=t,this.createGQL=r,this.routerHelper=a,this.route=l,this.form=this.fb.group({firstName:null,lastName:null,phoneNumber:this.fb.group({prefix:"+1",number:null}),gender:null})}submitForm(){var t=this;return(0,D.A)(function*(){const{phoneNumber:r,...a}=t.form.value;console.log(JSON.stringify(r)),yield(0,$._)(t.createGQL.mutate({input:{mobileNumber:`${r.prefix}${r.number}`,...a}})),t.routerHelper.goToParent(t.route)})()}static \u0275fac=function(r){return new(r||e)(n.rXU(i.ok),n.rXU(f.JoE),n.rXU(L.T),n.rXU(h.nX))};static \u0275cmp=n.VBU({type:e,selectors:[["app-driver-new"]],standalone:!1,decls:30,vars:6,consts:[["addOnBeforeTemplate",""],["tmplActions",""],["nzBackIcon","","nzTitle","New Driver","nzSubtitle","Input Driver's contact details below.",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"ngSubmit","formGroup"],["nzRequired","","nzFor","firstName"],["nzErrorTip","The input is not valid First Name"],["nz-input","","formControlName","firstName","id","firstName","required",""],["nzRequired","","nzFor","lastName"],["nzErrorTip","The input is not valid Last Name"],["nz-input","","formControlName","lastName","id","lastName","required",""],["nzFor","phoneNumber","nzRequired",""],["formGroupName","phoneNumber"],[3,"nzAddOnBefore"],["formControlName","number","id","phoneNumber","type","\u201dtel\u201d","nz-input","","required",""],["nzFor","gender"],["formControlName","gender"],["nzLabel","Male","nzValue","Male"],["nzLabel","Female","nzValue","Female"],["formControlName","prefix",1,"phone-select"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary",3,"click","disabled"]],template:function(r,a){if(1&r){const l=n.RV6();n.nrm(0,"nz-page-header",2),n.j41(1,"nz-card",3)(2,"form",4),n.bIt("ngSubmit",function(){return n.eBV(l),n.Njj(a.submitForm())}),n.j41(3,"nz-form-item")(4,"nz-form-label",5),n.EFF(5,"First Name"),n.k0s(),n.j41(6,"nz-form-control",6),n.nrm(7,"input",7),n.k0s()(),n.j41(8,"nz-form-item")(9,"nz-form-label",8),n.EFF(10,"Last Name"),n.k0s(),n.j41(11,"nz-form-control",9),n.nrm(12,"input",10),n.k0s()(),n.j41(13,"nz-form-item")(14,"nz-form-label",11),n.EFF(15,"Phone Number"),n.k0s(),n.j41(16,"nz-form-control",12)(17,"nz-input-group",13),n.DNE(18,x,2,1,"ng-template",null,0,n.C5r),n.nrm(20,"input",14),n.k0s()()(),n.j41(21,"nz-form-item")(22,"nz-form-label",15),n.EFF(23,"Gender"),n.k0s(),n.j41(24,"nz-form-control")(25,"nz-select",16),n.nrm(26,"nz-option",17)(27,"nz-option",18),n.k0s()()(),n.DNE(28,Y,2,1,"ng-template",null,1,n.C5r),n.k0s()()}if(2&r){const l=n.sdS(19),s=n.sdS(29);n.Y8G("nzGhost",!1),n.R7$(),n.Y8G("nzActions",n.eq3(4,B,s)),n.R7$(),n.Y8G("formGroup",a.form),n.R7$(15),n.Y8G("nzAddOnBefore",l)}},dependencies:[c.Sq,i.qT,i.me,i.BC,i.cb,i.YS,i.j4,i.JD,i.$R,v.Sy,v.tg,F.aO,N.c,T.p,C.Uq,C.e,d.CA,d.Ls,d.Mo,d.zS,I.ld,I.WI,p.WB,_.cK],encapsulation:2})}return e})();var V=o(2067),j=o(9933),k=o(6354),S=o(6807),G=o(8018),u=o(3359),P=o(2602),O=o(1951),A=o(5699),Q=o(1912),U=o(314),J=o(3409);function K(e,m){1&e&&(n.j41(0,"div"),n.nrm(1,"nz-skeleton",7),n.k0s()),2&e&&(n.R7$(),n.Y8G("nzActive",!0))}function H(e,m){if(1&e&&(n.j41(0,"tr",25)(1,"td")(2,"div")(3,"div",26),n.EFF(4),n.k0s(),n.j41(5,"div",27),n.EFF(6),n.nI1(7,"timeago"),n.k0s()()(),n.j41(8,"td")(9,"a",28),n.EFF(10),n.nI1(11,"phone"),n.k0s()(),n.j41(12,"td",29)(13,"nz-tag",30),n.EFF(14),n.nI1(15,"translate"),n.k0s()()()),2&e){const t=m.$implicit,r=n.XpG(3);n.Y8G("routerLink","view/"+t.id),n.R7$(4),n.Lme(" ",t.firstName," ",t.lastName," "),n.R7$(2),n.SpI(" Registered on ",n.bMT(7,9,t.registrationTimestamp)," "),n.R7$(3),n.Y8G("href","tel:+"+t.mobileNumber,n.B4B),n.R7$(),n.JRh(n.bMT(11,11,t.mobileNumber)),n.R7$(3),n.Y8G("nzColor",r.tagColor.driver(t.status))("nzBordered",!1),n.R7$(),n.JRh(n.bMT(15,13,"enum.driver.status."+r.toCamelCase(t.status)))}}function W(e,m){if(1&e){const t=n.RV6();n.j41(0,"nz-table",18,4),n.bIt("nzQueryParams",function(a){n.eBV(t);const l=n.XpG(2);return n.Njj(l.tableService.onTableQueryParamsChange(a))}),n.j41(2,"thead")(3,"tr")(4,"th",19),n.EFF(5),n.nI1(6,"translate"),n.j41(7,"nz-filter-trigger",20),n.nI1(8,"async"),n.nrm(9,"i",21),n.k0s()(),n.j41(10,"th",22),n.EFF(11),n.nI1(12,"translate"),n.j41(13,"nz-filter-trigger",20),n.nI1(14,"async"),n.nrm(15,"i",21),n.k0s()(),n.j41(16,"th",23),n.EFF(17),n.nI1(18,"translate"),n.k0s()()(),n.j41(19,"tbody"),n.DNE(20,H,16,15,"tr",24),n.k0s()()}if(2&e){let t,r;const a=m.ngIf,l=n.sdS(1);n.XpG();const s=n.sdS(12),en=n.sdS(25),g=n.XpG();n.Y8G("nzFrontPagination",!1)("nzData",a.nodes)("nzTotal",a.totalCount),n.R7$(4),n.Y8G("nzSortFn",!0),n.R7$(),n.SpI(" ",n.bMT(6,15,"profile.name")," "),n.R7$(2),n.Y8G("nzActive",null==(t=n.bMT(8,17,g.route.queryParams))||null==t.filter?null:t.filter.includes("lastName|like|"))("nzDropdownMenu",s),n.R7$(3),n.Y8G("nzSortFn",!0),n.R7$(),n.SpI(" ",n.bMT(12,19,"profile.mobileNumber")," "),n.R7$(2),n.Y8G("nzActive",null==(r=n.bMT(14,21,g.route.queryParams))||null==r.filter?null:r.filter.includes("mobileNumber|like|"))("nzDropdownMenu",en),n.R7$(3),n.Y8G("nzFilters",g.statuses)("nzFilterFn",!0),n.R7$(),n.SpI(" ",n.bMT(18,23,"profile.status"),""),n.R7$(3),n.Y8G("ngForOf",l.data)}}function Z(e,m){if(1&e){const t=n.RV6();n.j41(0,"nz-page-header",8),n.nI1(1,"translate"),n.nI1(2,"translate"),n.j41(3,"nz-page-header-extra")(4,"button",9),n.nrm(5,"i",10),n.EFF(6),n.nI1(7,"translate"),n.k0s()(),n.j41(8,"nz-page-header-content"),n.DNE(9,W,21,25,"nz-table",11),n.nI1(10,"async"),n.j41(11,"nz-dropdown-menu",null,0)(13,"div",12)(14,"div",13),n.nrm(15,"input",14,1),n.nI1(17,"translate"),n.j41(18,"button",15),n.bIt("click",function(){n.eBV(t);const a=n.sdS(16),l=n.XpG();return n.Njj(l.tableService.filterText("lastName",a.value))}),n.EFF(19),n.nI1(20,"translate"),n.k0s(),n.j41(21,"button",16),n.bIt("click",function(){n.eBV(t);const a=n.sdS(16),l=n.XpG();return n.Njj(l.tableService.resetFilter("lastName",a))}),n.EFF(22),n.nI1(23,"translate"),n.k0s()()()(),n.j41(24,"nz-dropdown-menu",null,2)(26,"div",12)(27,"div",13),n.nrm(28,"input",17,3),n.j41(30,"button",15),n.bIt("click",function(){n.eBV(t);const a=n.sdS(29),l=n.XpG();return n.Njj(l.tableService.filterText("mobileNumber",a.value))}),n.EFF(31),n.nI1(32,"translate"),n.k0s(),n.j41(33,"button",16),n.bIt("click",function(){n.eBV(t);const a=n.sdS(29),l=n.XpG();return n.Njj(l.tableService.resetFilter("mobileNumber",a))}),n.EFF(34),n.nI1(35,"translate"),n.k0s()()()()()()}if(2&e){let t;const r=n.XpG();n.FS9("nzTitle",n.bMT(1,10,"menu.drivers.header")),n.FS9("nzSubtitle",n.bMT(2,12,"menu.drivers.subtitle")),n.Y8G("nzGhost",!1),n.R7$(6),n.JRh(n.bMT(7,14,"profile.add")),n.R7$(3),n.Y8G("ngIf",null==(t=n.bMT(10,16,r.query))||null==t.data?null:t.data.drivers),n.R7$(6),n.FS9("placeholder",n.bMT(17,18,"profile.lastName")),n.R7$(4),n.SpI(" ",n.bMT(20,20,"profile.search")," "),n.R7$(3),n.JRh(n.bMT(23,22,"profile.reset")),n.R7$(9),n.SpI(" ",n.bMT(32,24,"profile.search")," "),n.R7$(3),n.JRh(n.bMT(35,26,"profile.reset"))}}let w=(()=>{class e{tagColor;tableService;route;translator;statuses;query;toCamelCase=j.xQ;constructor(t,r,a,l){this.tagColor=t,this.tableService=r,this.route=a,this.translator=l,this.statuses=Object.values(f.ZSe).map(s=>({value:s,text:this.translator.instant(`enum.driver.status.${(0,j.xQ)(s)}`)}))}ngOnInit(){this.query=this.route.data.pipe((0,k.T)(t=>t.drivers))}static \u0275fac=function(r){return new(r||e)(n.rXU(V.t),n.rXU(S.a),n.rXU(h.nX),n.rXU(G.c$))};static \u0275cmp=n.VBU({type:e,selectors:[["app-drivers-list"]],standalone:!1,decls:4,vars:6,consts:[["filtername","nzDropdownMenu"],["lastNameInput",""],["filtermobile","nzDropdownMenu"],["mobileNumberInput",""],["table",""],[4,"ngIf"],["nzBackIcon","",3,"nzGhost","nzTitle","nzSubtitle",4,"ngIf"],[3,"nzActive"],["nzBackIcon","",3,"nzGhost","nzTitle","nzSubtitle"],["nz-button","","nzType","primary","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","",3,"placeholder"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["nz-input","","placeholder","Search Mobile Number"],["nzShowSizeChanger","","nzBordered","",3,"nzQueryParams","nzFrontPagination","nzData","nzTotal"],["nzCustomFilter","","nzColumnKey","lastName",3,"nzSortFn"],[3,"nzActive","nzDropdownMenu"],["nz-icon","","nzType","search"],["nzCustomFilter","","nzColumnKey","mobileNumber",3,"nzSortFn"],["nzColumnKey","status",1,"hidden","md:table-cell",3,"nzFilters","nzFilterFn"],["class","group cursor-pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"group","cursor-pointer",3,"routerLink"],[1,"table-first-line"],[1,"table-second-line"],[3,"href"],[1,"hidden","md:table-cell"],[3,"nzColor","nzBordered"]],template:function(r,a){if(1&r&&(n.DNE(0,K,2,1,"div",5),n.nI1(1,"async"),n.DNE(2,Z,36,28,"nz-page-header",6),n.nI1(3,"async")),2&r){let l,s;n.Y8G("ngIf",null==(null==(l=n.bMT(1,2,a.query))?null:l.loading)),n.R7$(2),n.Y8G("ngIf",null==(s=n.bMT(3,4,a.query))?null:s.data)}},dependencies:[c.Sq,c.bT,u.CP,u.Cc,u.SO,u._4,u.IL,u.aj,u.kt,u.Kg,v.Sy,P.wQ,F.aO,N.c,T.p,O.Dn,A.s,p.WB,p.zR,p.ov,Q.Bi,z.Wk,c.Jj,U.X,G.D9,J.PZ],encapsulation:2})}return e})(),y=(()=>{class e{paging;gql;constructor(t,r){this.paging=t,this.gql=r}resolve(t,r){const a=this.paging.deserializeQueryParams(t.queryParams);return this.gql.fetch(a)}static \u0275fac=function(r){return new(r||e)(n.KVO(S.a),n.KVO(f.U1P))};static \u0275prov=n.jDH({token:e,factory:e.\u0275fac})}return e})();const q=[{path:"",component:w,resolve:{drivers:y},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",loadChildren:()=>o.e(307).then(o.bind(o,307)).then(e=>e.DriverProfileModule)},{path:"new",component:X}];let nn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=n.$C({type:e});static \u0275inj=n.G2t({providers:[y],imports:[z.iI.forChild(q),z.iI]})}return e})(),tn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=n.$C({type:e});static \u0275inj=n.G2t({imports:[R.G,nn]})}return e})()}}]);